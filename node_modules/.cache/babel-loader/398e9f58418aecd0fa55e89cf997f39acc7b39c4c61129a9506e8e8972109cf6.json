{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\hero_invent_pro\\\\hero_invent_pro\\\\src\\\\pages\\\\sales.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Tabs, Tab, Chip, Card, CardBody, useDisclosure, Modal, ModalContent, ModalHeader, ModalBody, ModalFooter, Button, Input, Select, SelectItem } from '@heroui/react';\nimport { Icon } from '@iconify/react';\nimport axios from 'axios';\nimport { PageHeader } from '../components/page-header';\nimport { DataTable } from '../components/data-table';\n\n// Definición de tipos\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:8000/api';\nexport const Sales = () => {\n  _s();\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const [salesList, setSalesList] = useState([]);\n  const [selectedTab, setSelectedTab] = useState('all');\n  const [selectedSale, setSelectedSale] = useState(null);\n  const [newSale, setNewSale] = useState({\n    customer: '',\n    metodo_pago: 'Efectivo',\n    items: [{\n      productId: '',\n      quantity: 1,\n      price: 0\n    }]\n  });\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Cargar ventas y productos al montar el componente\n  useEffect(() => {\n    fetchSales();\n    fetchProducts();\n  }, []);\n  const fetchSales = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get(`${API_URL}/ventas`);\n      const salesData = await Promise.all(response.data.map(async sale => {\n        // Obtener detalles de la venta\n        const detailsResponse = await axios.get(`${API_URL}/ventas/${sale.id}`);\n        return {\n          id: sale.id.toString(),\n          date: sale.fecha_venta,\n          customer: sale.nombre_cliente || 'Cliente Mostrador',\n          total: parseFloat(sale.total_venta),\n          status: sale.status || 'completed',\n          nombre_usuario: sale.nombre_usuario || 'Sistema',\n          metodo_pago: sale.metodo_pago || 'Efectivo',\n          items: detailsResponse.data.map(detail => ({\n            productId: detail.producto_id.toString(),\n            quantity: detail.cantidad,\n            price: parseFloat(detail.precio_unitario),\n            nombre_producto: detail.nombre_producto\n          }))\n        };\n      }));\n      setSalesList(salesData);\n    } catch (err) {\n      // ... manejo de errores\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchProducts = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/productos`);\n      console.log('Raw products data:', response.data); // Debug\n\n      setProducts(response.data.map(product => ({\n        id: product.id,\n        name: product.nombre,\n        price: parseFloat(product.precio),\n        cantidad: product.cantidad\n      })));\n    } catch (err) {\n      console.error('Error cargando productos:', err);\n      setError('Error al cargar los productos.');\n    }\n  };\n  const filteredSales = React.useMemo(() => {\n    console.log('Filtering sales:', {\n      selectedTab,\n      salesList\n    }); // Debug\n\n    if (selectedTab === 'pending') {\n      return salesList.filter(sale => sale.status === 'pending');\n    } else if (selectedTab === 'completed') {\n      return salesList.filter(sale => sale.status === 'completed');\n    }\n    return salesList;\n  }, [salesList, selectedTab]);\n  const handleRowAction = async (action, sale) => {\n    console.log('Row action called:', {\n      action,\n      sale\n    }); // Debug\n\n    if (action === 'view') {\n      try {\n        setLoading(true);\n        console.log('Fetching sale details for ID:', sale.id); // Debug\n\n        const detailsResponse = await axios.get(`${API_URL}/ventas/${sale.id}`);\n        console.log('Sale details response:', detailsResponse.data); // Debug\n\n        const items = detailsResponse.data.map(detail => ({\n          productId: detail.producto_id ? detail.producto_id.toString() : '',\n          quantity: detail.cantidad,\n          price: parseFloat(detail.precio_unitario),\n          nombre_producto: detail.nombre_producto\n        }));\n        setSelectedSale({\n          ...sale,\n          items\n        });\n        onOpen();\n      } catch (err) {\n        console.error('Error cargando detalles:', err);\n        setError('Error al cargar detalles de venta.');\n      } finally {\n        setLoading(false);\n      }\n    } else if (action === 'delete') {\n      if (window.confirm('¿Está seguro de eliminar esta venta?')) {\n        await handleDeleteSale(sale.id);\n      }\n    }\n  };\n  const handleDeleteSale = async saleId => {\n    try {\n      setLoading(true);\n      console.log('Deleting sale ID:', saleId); // Debug\n\n      await axios.delete(`${API_URL}/ventas/${saleId}`);\n      setSalesList(prev => prev.filter(sale => sale.id !== saleId));\n      setError('');\n      console.log('Sale deleted successfully'); // Debug\n    } catch (err) {\n      console.error('Error eliminando venta:', err);\n      setError('Error al eliminar la venta.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleAddSale = () => {\n    console.log('Add sale button clicked'); // Debug\n    setSelectedSale(null);\n    setNewSale({\n      customer: '',\n      metodo_pago: 'Efectivo',\n      items: [{\n        productId: '',\n        quantity: 1,\n        price: 0\n      }]\n    });\n    setError(''); // Limpiar errores previos\n    onOpen();\n  };\n  const handleAddItem = () => {\n    console.log('Add item button clicked'); // Debug\n    setNewSale(prev => ({\n      ...prev,\n      items: [...prev.items, {\n        productId: '',\n        quantity: 1,\n        price: 0\n      }]\n    }));\n  };\n  const handleRemoveItem = index => {\n    console.log('Remove item at index:', index); // Debug\n    if (newSale.items.length > 1) {\n      setNewSale(prev => ({\n        ...prev,\n        items: prev.items.filter((_, i) => i !== index)\n      }));\n    }\n  };\n  const handleItemChange = (index, field, value) => {\n    console.log('Item change:', {\n      index,\n      field,\n      value\n    }); // Debug\n\n    setNewSale(prev => {\n      const newItems = [...prev.items];\n      if (field === 'productId') {\n        const product = products.find(p => p.id.toString() === value);\n        if (product) {\n          newItems[index] = {\n            ...newItems[index],\n            productId: value,\n            price: product.price\n          };\n        }\n      } else {\n        newItems[index] = {\n          ...newItems[index],\n          [field]: field === 'quantity' ? parseInt(value) || 1 : value\n        };\n      }\n      return {\n        ...prev,\n        items: newItems\n      };\n    });\n  };\n  const calculateTotal = () => {\n    return newSale.items.reduce((total, item) => {\n      return total + item.price * item.quantity;\n    }, 0);\n  };\n  const validateStock = () => {\n    for (const item of newSale.items) {\n      if (!item.productId) continue;\n      const product = products.find(p => p.id.toString() === item.productId);\n      const available = (product === null || product === void 0 ? void 0 : product.cantidad) || 0;\n      if (available < item.quantity) {\n        return `Stock insuficiente para ${product === null || product === void 0 ? void 0 : product.name}. Disponible: ${available}`;\n      }\n    }\n    return null;\n  };\n  const handleSaveSale = async () => {\n    console.log('Save sale called'); // Debug\n\n    const stockError = validateStock();\n    if (stockError) {\n      setError(stockError);\n      return;\n    }\n    try {\n      setLoading(true);\n      setError('');\n\n      // Validar que hay productos seleccionados\n      const validItems = newSale.items.filter(item => item.productId && item.quantity > 0 && !isNaN(parseInt(item.productId)) && !isNaN(item.quantity) && item.price > 0);\n      console.log('Valid items:', validItems); // Debug\n\n      if (validItems.length === 0) {\n        setError('Debe agregar al menos un producto válido con cantidad mayor a 0');\n        setLoading(false);\n        return;\n      }\n\n      // Verificar que todos los productos existen y tienen stock suficiente\n      for (const item of validItems) {\n        const product = products.find(p => p.id === parseInt(item.productId));\n        if (!product) {\n          setError(`Producto con ID ${item.productId} no encontrado`);\n          setLoading(false);\n          return;\n        }\n        if (product.cantidad !== undefined && product.cantidad < item.quantity) {\n          setError(`Stock insuficiente para ${product.name}. Disponible: ${product.cantidad}, solicitado: ${item.quantity}`);\n          setLoading(false);\n          return;\n        }\n      }\n      const detalles = validItems.map(item => ({\n        producto_id: parseInt(item.productId),\n        cantidad: parseInt(item.quantity),\n        precio_unitario: parseFloat(item.price.toString())\n      }));\n\n      // En handleSaveSale\n      const saleData = {\n        detalles: validItems.map(item => ({\n          producto_id: parseInt(item.productId),\n          cantidad: parseInt(item.quantity),\n          precio_unitario: parseFloat(item.price.toString())\n        })),\n        usuario_id: 1,\n        cliente_id: newSale.customer ? crearObtenerCliente(newSale.customer) : null,\n        metodo_pago: newSale.metodo_pago\n      };\n      console.log('Enviando datos de venta:', saleData);\n      const response = await axios.post(`${API_URL}/ventas`, saleData);\n      console.log('Respuesta del servidor:', response.data);\n\n      // Recargar la lista de ventas y productos (para actualizar stock)\n      await fetchSales();\n      await fetchProducts();\n\n      // Limpiar el formulario\n      setNewSale({\n        customer: '',\n        metodo_pago: 'Efectivo',\n        items: [{\n          productId: '',\n          quantity: 1,\n          price: 0\n        }]\n      });\n      onClose();\n      setError('');\n    } catch (err) {\n      var _err$response, _err$response2, _err$response2$data, _err$response3, _err$response4;\n      console.error('Error completo:', err);\n      console.error('Respuesta del servidor:', (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data);\n      let errorMessage = 'Error al guardar la venta. ';\n      if ((_err$response2 = err.response) !== null && _err$response2 !== void 0 && (_err$response2$data = _err$response2.data) !== null && _err$response2$data !== void 0 && _err$response2$data.error) {\n        errorMessage += err.response.data.error;\n      } else if (((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.status) === 400) {\n        errorMessage += 'Datos inválidos enviados al servidor.';\n      } else if (((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : _err$response4.status) === 500) {\n        errorMessage += 'Error interno del servidor.';\n      } else if (err.code === 'ECONNREFUSED') {\n        errorMessage += 'No se puede conectar al servidor. Verifique que esté ejecutándose.';\n      } else {\n        errorMessage += err.message || 'Error desconocido.';\n      }\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getAvailableStock = productId => {\n    const product = products.find(p => p.id.toString() === productId);\n    return (product === null || product === void 0 ? void 0 : product.cantidad) || 0;\n  };\n  const columns = [{\n    key: 'id',\n    label: '# Venta',\n    renderCell: sale => /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"font-medium\",\n      children: [\"#\", sale.id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'date',\n    label: 'Fecha',\n    renderCell: sale => {\n      const date = new Date(sale.date);\n      return date.toLocaleDateString('es-MX', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit'\n      });\n    }\n  }, {\n    key: 'customer',\n    label: 'Cliente'\n  }, {\n    key: 'total',\n    label: 'Total',\n    renderCell: sale => /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"font-medium\",\n      children: [\"$\", sale.total.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'metodo_pago',\n    label: 'Método Pago',\n    renderCell: sale => /*#__PURE__*/_jsxDEV(\"span\", {\n      children: sale.metodo_pago || 'Efectivo'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'status',\n    label: 'Estado',\n    renderCell: sale => /*#__PURE__*/_jsxDEV(Chip, {\n      color: sale.status === 'completed' ? 'success' : 'warning',\n      variant: \"flat\",\n      size: \"sm\",\n      children: sale.status === 'completed' ? 'Completada' : 'Pendiente'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 9\n    }, this)\n  }];\n\n  // Debug render\n  console.log('Component render:', {\n    salesList: salesList.length,\n    filteredSales: filteredSales.length,\n    loading,\n    error,\n    isOpen\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n      title: \"Ventas\",\n      description: \"Gesti\\xF3n de ventas y facturaci\\xF3n\",\n      actionLabel: \"Nueva Venta\",\n      onAction: handleAddSale\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\",\n      children: [error, /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"absolute top-0 bottom-0 right-0 px-4 py-3\",\n        onClick: () => setError(''),\n        children: /*#__PURE__*/_jsxDEV(Icon, {\n          icon: \"mdi:close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      \"aria-label\": \"Opciones de ventas\",\n      selectedKey: selectedTab,\n      onSelectionChange: key => {\n        console.log('Tab changed to:', key); // Debug\n        setSelectedTab(key);\n      },\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        title: \"Todas\"\n      }, \"all\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        title: \"Completadas\"\n      }, \"completed\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        title: \"Pendientes\"\n      }, \"pending\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n      data: filteredSales,\n      columns: columns,\n      onRowAction: handleRowAction,\n      searchable: true,\n      searchPlaceholder: \"Buscar ventas...\",\n      isLoading: loading,\n      actions: ['view', 'delete']\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isOpen,\n      onClose: onClose,\n      size: selectedSale ? 'md' : '2xl',\n      scrollBehavior: \"inside\",\n      children: /*#__PURE__*/_jsxDEV(ModalContent, {\n        children: onClose => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n            className: \"flex flex-col gap-1\",\n            children: selectedSale ? `Detalle de Venta #${selectedSale.id}` : 'Nueva Venta'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n            children: selectedSale ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-foreground-500\",\n                    children: \"Cliente\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 497,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium\",\n                    children: selectedSale.customer\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-foreground-500\",\n                    children: \"Fecha\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium\",\n                    children: new Date(selectedSale.date).toLocaleDateString('es-MX')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 502,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-foreground-500\",\n                    children: \"M\\xE9todo de Pago\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium\",\n                    children: selectedSale.metodo_pago || 'Efectivo'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 508,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-foreground-500\",\n                    children: \"Usuario\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 511,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium\",\n                    children: selectedSale.nombre_usuario || 'Sistema'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-foreground-500\",\n                    children: \"Estado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 515,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                    color: selectedSale.status === 'completed' ? 'success' : 'warning',\n                    variant: \"flat\",\n                    size: \"sm\",\n                    children: selectedSale.status === 'completed' ? 'Completada' : 'Pendiente'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 516,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-foreground-500\",\n                    children: \"Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium text-xl\",\n                    children: [\"$\", selectedSale.total.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 526,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-md font-medium mb-2\",\n                  children: \"Productos Vendidos\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Card, {\n                  children: /*#__PURE__*/_jsxDEV(CardBody, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-3\",\n                      children: [selectedSale.items.length > 0 ? selectedSale.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center py-2 border-b border-divider last:border-b-0\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex-1\",\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"font-medium\",\n                            children: item.nombre_producto || 'Producto'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 539,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-sm text-foreground-500\",\n                            children: [\"Cantidad: \", item.quantity, \" | Precio unitario: $\", item.price.toFixed(2)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 540,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 538,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-right\",\n                          children: /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"font-medium\",\n                            children: [\"$\", (item.quantity * item.price).toFixed(2)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 545,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 544,\n                          columnNumber: 35\n                        }, this)]\n                      }, index, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 537,\n                        columnNumber: 33\n                      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-center text-foreground-500\",\n                        children: \"No hay detalles de productos disponibles\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 550,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center pt-3 border-t border-divider font-semibold\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Total:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 553,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xl\",\n                          children: [\"$\", selectedSale.total.toFixed(2)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 554,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 552,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 534,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 533,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(Input, {\n                  label: \"Cliente\",\n                  placeholder: \"Nombre del cliente (opcional)\",\n                  value: newSale.customer,\n                  onValueChange: value => setNewSale(prev => ({\n                    ...prev,\n                    customer: value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  label: \"M\\xE9todo de Pago\",\n                  selectedKeys: [newSale.metodo_pago],\n                  onSelectionChange: keys => {\n                    const value = Array.from(keys)[0];\n                    setNewSale(prev => ({\n                      ...prev,\n                      metodo_pago: value\n                    }));\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                    value: \"Efectivo\",\n                    children: \"Efectivo\"\n                  }, \"Efectivo\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 578,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                    value: \"Tarjeta\",\n                    children: \"Tarjeta\"\n                  }, \"Tarjeta\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 579,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                    value: \"Transferencia\",\n                    children: \"Transferencia\"\n                  }, \"Transferencia\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 580,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 570,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-md font-medium\",\n                    children: \"Productos\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 586,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    size: \"sm\",\n                    variant: \"flat\",\n                    color: \"primary\",\n                    onPress: handleAddItem,\n                    startContent: /*#__PURE__*/_jsxDEV(Icon, {\n                      icon: \"lucide:plus\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 592,\n                      columnNumber: 41\n                    }, this),\n                    children: \"Agregar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 587,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 585,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3 max-h-60 overflow-y-auto\",\n                  children: newSale.items.map((item, index) => {\n                    const availableStock = getAvailableStock(item.productId);\n                    const isStockLow = item.quantity > availableStock;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-end gap-2 p-3 border border-divider rounded-lg\",\n                      children: [/*#__PURE__*/_jsxDEV(Select, {\n                        label: \"Producto\",\n                        placeholder: \"Seleccionar\",\n                        className: \"flex-1\",\n                        selectedKeys: item.productId ? [item.productId] : [],\n                        onSelectionChange: keys => {\n                          const value = Array.from(keys)[0];\n                          handleItemChange(index, 'productId', value);\n                        },\n                        children: products.map(product => /*#__PURE__*/_jsxDEV(SelectItem, {\n                          value: product.id.toString(),\n                          textValue: `${product.name} - $${product.price.toFixed(2)} (Stock: ${product.cantidad || 0})`,\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: product.name\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 622,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-sm text-foreground-500\",\n                              children: [\"$\", product.price.toFixed(2), \" | Stock: \", product.cantidad || 0]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 623,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 621,\n                            columnNumber: 37\n                          }, this)\n                        }, product.id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 616,\n                          columnNumber: 35\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 605,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex flex-col\",\n                        children: [/*#__PURE__*/_jsxDEV(Input, {\n                          type: \"number\",\n                          label: \"Cantidad\",\n                          min: 1,\n                          max: availableStock,\n                          value: item.quantity.toString(),\n                          onValueChange: value => handleItemChange(index, 'quantity', value),\n                          className: \"w-24\",\n                          color: isStockLow ? 'danger' : 'default'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 632,\n                          columnNumber: 33\n                        }, this), item.productId && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `text-xs mt-1 ${isStockLow ? 'text-danger' : 'text-foreground-500'}`,\n                          children: [\"Stock: \", availableStock]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 643,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 631,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-right min-w-20\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-foreground-500\",\n                          children: \"Subtotal\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 650,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-medium\",\n                          children: [\"$\", (item.price * item.quantity).toFixed(2)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 651,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 649,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        isIconOnly: true,\n                        color: \"danger\",\n                        variant: \"light\",\n                        size: \"sm\",\n                        onPress: () => handleRemoveItem(index),\n                        isDisabled: newSale.items.length === 1,\n                        children: /*#__PURE__*/_jsxDEV(Icon, {\n                          icon: \"lucide:trash-2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 662,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 654,\n                        columnNumber: 31\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 604,\n                      columnNumber: 29\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 598,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center pt-4 border-t border-divider\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-lg\",\n                  children: \"Total:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 671,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-2xl font-semibold text-primary\",\n                  children: [\"$\", calculateTotal().toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 672,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"flat\",\n              onPress: onClose,\n              isDisabled: loading,\n              children: selectedSale ? 'Cerrar' : 'Cancelar'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 17\n            }, this), !selectedSale && /*#__PURE__*/_jsxDEV(Button, {\n              color: \"primary\",\n              onPress: handleSaveSale,\n              isLoading: loading,\n              isDisabled: loading || newSale.items.some(item => !item.productId || item.quantity <= 0) || calculateTotal() <= 0,\n              children: \"Completar Venta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 684,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 437,\n    columnNumber: 5\n  }, this);\n};\n_s(Sales, \"dZvnNut4byKq27n0G+9IZ0X1s1Y=\", false, function () {\n  return [useDisclosure];\n});\n_c = Sales;\nvar _c;\n$RefreshReg$(_c, \"Sales\");","map":{"version":3,"names":["React","useEffect","useState","Tabs","Tab","Chip","Card","CardBody","useDisclosure","Modal","ModalContent","ModalHeader","ModalBody","ModalFooter","Button","Input","Select","SelectItem","Icon","axios","PageHeader","DataTable","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","Sales","_s","isOpen","onOpen","onClose","salesList","setSalesList","selectedTab","setSelectedTab","selectedSale","setSelectedSale","newSale","setNewSale","customer","metodo_pago","items","productId","quantity","price","products","setProducts","loading","setLoading","error","setError","fetchSales","fetchProducts","response","get","salesData","Promise","all","data","map","sale","detailsResponse","id","toString","date","fecha_venta","nombre_cliente","total","parseFloat","total_venta","status","nombre_usuario","detail","producto_id","cantidad","precio_unitario","nombre_producto","err","console","log","product","name","nombre","precio","filteredSales","useMemo","filter","handleRowAction","action","window","confirm","handleDeleteSale","saleId","delete","prev","handleAddSale","handleAddItem","handleRemoveItem","index","length","_","i","handleItemChange","field","value","newItems","find","p","parseInt","calculateTotal","reduce","item","validateStock","available","handleSaveSale","stockError","validItems","isNaN","undefined","detalles","saleData","usuario_id","cliente_id","crearObtenerCliente","post","_err$response","_err$response2","_err$response2$data","_err$response3","_err$response4","errorMessage","code","message","getAvailableStock","columns","key","label","renderCell","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Date","toLocaleDateString","year","month","day","toFixed","color","variant","size","title","description","actionLabel","onAction","onClick","icon","selectedKey","onSelectionChange","onRowAction","searchable","searchPlaceholder","isLoading","actions","scrollBehavior","placeholder","onValueChange","selectedKeys","keys","Array","from","onPress","startContent","availableStock","isStockLow","textValue","type","min","max","isIconOnly","isDisabled","some","_c","$RefreshReg$"],"sources":["C:/Users/User/hero_invent_pro/hero_invent_pro/src/pages/sales.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { \n  Tabs, \n  Tab, \n  Chip, \n  Card, \n  CardBody, \n  useDisclosure, \n  Modal, \n  ModalContent, \n  ModalHeader, \n  ModalBody, \n  ModalFooter, \n  Button, \n  Input, \n  Select, \n  SelectItem \n} from '@heroui/react';\nimport { Icon } from '@iconify/react';\nimport axios from 'axios';\nimport { PageHeader } from '../components/page-header';\nimport { DataTable } from '../components/data-table';\n\n// Definición de tipos\ntype Product = {\n  id: number;\n  name: string;\n  price: number;\n  cantidad?: number;\n};\n\ntype SaleItem = {\n  productId: string;\n  quantity: number;\n  price: number;\n  nombre_producto?: string;\n};\n\ntype Sale = {\n  id: string;\n  date: string;\n  customer: string;\n  total: number;\n  status: string;\n  items: SaleItem[];\n  nombre_usuario?: string;\n  metodo_pago?: string;\n};\n\nconst API_URL = 'http://localhost:8000/api';\n\nexport const Sales: React.FC = () => {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const [salesList, setSalesList] = useState<Sale[]>([]);\n  const [selectedTab, setSelectedTab] = useState('all');\n  const [selectedSale, setSelectedSale] = useState<Sale | null>(null);\n  const [newSale, setNewSale] = useState({\n    customer: '',\n    metodo_pago: 'Efectivo',\n    items: [{ productId: '', quantity: 1, price: 0 }]\n  });\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Cargar ventas y productos al montar el componente\n  useEffect(() => {\n    fetchSales();\n    fetchProducts();\n  }, []);\n\nconst fetchSales = async () => {\n  setLoading(true);\n  try {\n    const response = await axios.get(`${API_URL}/ventas`);\n    const salesData = await Promise.all(response.data.map(async (sale: any) => {\n      // Obtener detalles de la venta\n      const detailsResponse = await axios.get(`${API_URL}/ventas/${sale.id}`);\n      \n      return {\n        id: sale.id.toString(),\n        date: sale.fecha_venta,\n        customer: sale.nombre_cliente || 'Cliente Mostrador',\n        total: parseFloat(sale.total_venta),\n        status: sale.status || 'completed',\n        nombre_usuario: sale.nombre_usuario || 'Sistema',\n        metodo_pago: sale.metodo_pago || 'Efectivo',\n        items: detailsResponse.data.map((detail: any) => ({\n          productId: detail.producto_id.toString(),\n          quantity: detail.cantidad,\n          price: parseFloat(detail.precio_unitario),\n          nombre_producto: detail.nombre_producto\n        }))\n      };\n    }));\n    \n    setSalesList(salesData);\n  } catch (err) {\n    // ... manejo de errores\n  } finally {\n    setLoading(false);\n  }\n};\n\n  const fetchProducts = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/productos`);\n      console.log('Raw products data:', response.data); // Debug\n      \n      setProducts(response.data.map((product: any) => ({\n        id: product.id,\n        name: product.nombre,\n        price: parseFloat(product.precio),\n        cantidad: product.cantidad\n      })));\n    } catch (err) {\n      console.error('Error cargando productos:', err);\n      setError('Error al cargar los productos.');\n    }\n  };\n\n  const filteredSales = React.useMemo(() => {\n    console.log('Filtering sales:', { selectedTab, salesList }); // Debug\n    \n    if (selectedTab === 'pending') {\n      return salesList.filter(sale => sale.status === 'pending');\n    } else if (selectedTab === 'completed') {\n      return salesList.filter(sale => sale.status === 'completed');\n    }\n    return salesList;\n  }, [salesList, selectedTab]);\n\n  const handleRowAction = async (action: string, sale: Sale) => {\n    console.log('Row action called:', { action, sale }); // Debug\n    \n    if (action === 'view') {\n      try {\n        setLoading(true);\n        console.log('Fetching sale details for ID:', sale.id); // Debug\n        \n        const detailsResponse = await axios.get(`${API_URL}/ventas/${sale.id}`);\n        console.log('Sale details response:', detailsResponse.data); // Debug\n        \n        const items = detailsResponse.data.map((detail: any) => ({\n          productId: detail.producto_id ? detail.producto_id.toString() : '',\n          quantity: detail.cantidad,\n          price: parseFloat(detail.precio_unitario),\n          nombre_producto: detail.nombre_producto\n        }));\n        \n        setSelectedSale({\n          ...sale,\n          items\n        });\n        onOpen();\n      } catch (err) {\n        console.error('Error cargando detalles:', err);\n        setError('Error al cargar detalles de venta.');\n      } finally {\n        setLoading(false);\n      }\n    } else if (action === 'delete') {\n      if (window.confirm('¿Está seguro de eliminar esta venta?')) {\n        await handleDeleteSale(sale.id);\n      }\n    }\n  };\n\n  const handleDeleteSale = async (saleId: string) => {\n    try {\n      setLoading(true);\n      console.log('Deleting sale ID:', saleId); // Debug\n      \n      await axios.delete(`${API_URL}/ventas/${saleId}`);\n      setSalesList(prev => prev.filter(sale => sale.id !== saleId));\n      setError('');\n      console.log('Sale deleted successfully'); // Debug\n    } catch (err) {\n      console.error('Error eliminando venta:', err);\n      setError('Error al eliminar la venta.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddSale = () => {\n    console.log('Add sale button clicked'); // Debug\n    setSelectedSale(null);\n    setNewSale({\n      customer: '',\n      metodo_pago: 'Efectivo',\n      items: [{ productId: '', quantity: 1, price: 0 }]\n    });\n    setError(''); // Limpiar errores previos\n    onOpen();\n  };\n\n  const handleAddItem = () => {\n    console.log('Add item button clicked'); // Debug\n    setNewSale(prev => ({\n      ...prev,\n      items: [...prev.items, { productId: '', quantity: 1, price: 0 }]\n    }));\n  };\n\n  const handleRemoveItem = (index: number) => {\n    console.log('Remove item at index:', index); // Debug\n    if (newSale.items.length > 1) {\n      setNewSale(prev => ({\n        ...prev,\n        items: prev.items.filter((_, i) => i !== index)\n      }));\n    }\n  };\n\n  const handleItemChange = (index: number, field: string, value: any) => {\n    console.log('Item change:', { index, field, value }); // Debug\n    \n    setNewSale(prev => {\n      const newItems = [...prev.items];\n      \n      if (field === 'productId') {\n        const product = products.find(p => p.id.toString() === value);\n        if (product) {\n          newItems[index] = {\n            ...newItems[index],\n            productId: value,\n            price: product.price\n          };\n        }\n      } else {\n        newItems[index] = {\n          ...newItems[index],\n          [field]: field === 'quantity' ? parseInt(value) || 1 : value\n        };\n      }\n      \n      return { ...prev, items: newItems };\n    });\n  };\n\n  const calculateTotal = () => {\n    return newSale.items.reduce((total, item) => {\n      return total + (item.price * item.quantity);\n    }, 0);\n  };\n\nconst validateStock = () => {\n  for (const item of newSale.items) {\n    if (!item.productId) continue;\n    \n    const product = products.find(p => p.id.toString() === item.productId);\n    const available = product?.cantidad || 0;\n    \n    if (available < item.quantity) {\n      return `Stock insuficiente para ${product?.name}. Disponible: ${available}`;\n    }\n  }\n  return null;\n};\n\n  const handleSaveSale = async () => {\n    console.log('Save sale called'); // Debug\n    \n    const stockError = validateStock();\n    if (stockError) {\n      setError(stockError);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError('');\n      \n      // Validar que hay productos seleccionados\n      const validItems = newSale.items.filter(item => \n        item.productId && \n        item.quantity > 0 && \n        !isNaN(parseInt(item.productId)) && \n        !isNaN(item.quantity) && \n        item.price > 0\n      );\n\n      console.log('Valid items:', validItems); // Debug\n\n      if (validItems.length === 0) {\n        setError('Debe agregar al menos un producto válido con cantidad mayor a 0');\n        setLoading(false);\n        return;\n      }\n\n      // Verificar que todos los productos existen y tienen stock suficiente\n      for (const item of validItems) {\n        const product = products.find(p => p.id === parseInt(item.productId));\n        if (!product) {\n          setError(`Producto con ID ${item.productId} no encontrado`);\n          setLoading(false);\n          return;\n        }\n        \n        if (product.cantidad !== undefined && product.cantidad < item.quantity) {\n          setError(`Stock insuficiente para ${product.name}. Disponible: ${product.cantidad}, solicitado: ${item.quantity}`);\n          setLoading(false);\n          return;\n        }\n      }\n\n      const detalles = validItems.map(item => ({\n        producto_id: parseInt(item.productId),\n        cantidad: parseInt(item.quantity),\n        precio_unitario: parseFloat(item.price.toString())\n      }));\n\n   // En handleSaveSale\nconst saleData = {\n  detalles: validItems.map(item => ({\n    producto_id: parseInt(item.productId),\n    cantidad: parseInt(item.quantity),\n    precio_unitario: parseFloat(item.price.toString())\n  })),\n  usuario_id: 1,\n  cliente_id: newSale.customer ? crearObtenerCliente(newSale.customer) : null,\n  metodo_pago: newSale.metodo_pago\n};\n\n      console.log('Enviando datos de venta:', saleData);\n\n      const response = await axios.post(`${API_URL}/ventas`, saleData);\n      \n      console.log('Respuesta del servidor:', response.data);\n      \n      // Recargar la lista de ventas y productos (para actualizar stock)\n      await fetchSales();\n      await fetchProducts();\n      \n      // Limpiar el formulario\n      setNewSale({\n        customer: '',\n        metodo_pago: 'Efectivo',\n        items: [{ productId: '', quantity: 1, price: 0 }]\n      });\n      \n      onClose();\n      setError('');\n    } catch (err: any) {\n      console.error('Error completo:', err);\n      console.error('Respuesta del servidor:', err.response?.data);\n      \n      let errorMessage = 'Error al guardar la venta. ';\n      \n      if (err.response?.data?.error) {\n        errorMessage += err.response.data.error;\n      } else if (err.response?.status === 400) {\n        errorMessage += 'Datos inválidos enviados al servidor.';\n      } else if (err.response?.status === 500) {\n        errorMessage += 'Error interno del servidor.';\n      } else if (err.code === 'ECONNREFUSED') {\n        errorMessage += 'No se puede conectar al servidor. Verifique que esté ejecutándose.';\n      } else {\n        errorMessage += err.message || 'Error desconocido.';\n      }\n      \n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getAvailableStock = (productId: string) => {\n    const product = products.find(p => p.id.toString() === productId);\n    return product?.cantidad || 0;\n  };\n\n  const columns = [\n    {\n      key: 'id',\n      label: '# Venta',\n      renderCell: (sale: Sale) => (\n        <span className=\"font-medium\">#{sale.id}</span>\n      )\n    },\n    {\n      key: 'date',\n      label: 'Fecha',\n      renderCell: (sale: Sale) => {\n        const date = new Date(sale.date);\n        return date.toLocaleDateString('es-MX', {\n          year: 'numeric',\n          month: '2-digit',\n          day: '2-digit'\n        });\n      }\n    },\n    {\n      key: 'customer',\n      label: 'Cliente'\n    },\n    {\n      key: 'total',\n      label: 'Total',\n      renderCell: (sale: Sale) => (\n        <span className=\"font-medium\">${sale.total.toFixed(2)}</span>\n      )\n    },\n    {\n      key: 'metodo_pago',\n      label: 'Método Pago',\n      renderCell: (sale: Sale) => (\n        <span>{sale.metodo_pago || 'Efectivo'}</span>\n      )\n    },\n    {\n      key: 'status',\n      label: 'Estado',\n      renderCell: (sale: Sale) => (\n        <Chip \n          color={sale.status === 'completed' ? 'success' : 'warning'} \n          variant=\"flat\" \n          size=\"sm\"\n        >\n          {sale.status === 'completed' ? 'Completada' : 'Pendiente'}\n        </Chip>\n      )\n    }\n  ];\n\n  // Debug render\n  console.log('Component render:', { \n    salesList: salesList.length, \n    filteredSales: filteredSales.length, \n    loading, \n    error,\n    isOpen \n  });\n\n  return (\n    <div className=\"space-y-6\">\n      <PageHeader \n        title=\"Ventas\" \n        description=\"Gestión de ventas y facturación\"\n        actionLabel=\"Nueva Venta\"\n        onAction={handleAddSale}\n      />\n      \n      {error && (\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\">\n          {error}\n          <button \n            className=\"absolute top-0 bottom-0 right-0 px-4 py-3\" \n            onClick={() => setError('')}\n          >\n            <Icon icon=\"mdi:close\" />\n          </button>\n        </div>\n      )}\n      \n      <Tabs \n        aria-label=\"Opciones de ventas\" \n        selectedKey={selectedTab}\n        onSelectionChange={(key) => {\n          console.log('Tab changed to:', key); // Debug\n          setSelectedTab(key as string);\n        }}\n      >\n        <Tab key=\"all\" title=\"Todas\" />\n        <Tab key=\"completed\" title=\"Completadas\" />\n        <Tab key=\"pending\" title=\"Pendientes\" />\n      </Tabs>\n      \n      <DataTable \n        data={filteredSales}\n        columns={columns}\n        onRowAction={handleRowAction}\n        searchable\n        searchPlaceholder=\"Buscar ventas...\"\n        isLoading={loading}\n        actions={['view', 'delete']}\n      />\n      \n      <Modal \n        isOpen={isOpen} \n        onClose={onClose}\n        size={selectedSale ? 'md' : '2xl'}\n        scrollBehavior=\"inside\"\n      >\n        <ModalContent>\n          {(onClose) => (\n            <>\n              <ModalHeader className=\"flex flex-col gap-1\">\n                {selectedSale ? `Detalle de Venta #${selectedSale.id}` : 'Nueva Venta'}\n              </ModalHeader>\n              <ModalBody>\n                {selectedSale ? (\n                  <div className=\"space-y-4\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <p className=\"text-sm text-foreground-500\">Cliente</p>\n                        <p className=\"font-medium\">{selectedSale.customer}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-sm text-foreground-500\">Fecha</p>\n                        <p className=\"font-medium\">\n                          {new Date(selectedSale.date).toLocaleDateString('es-MX')}\n                        </p>\n                      </div>\n                      <div>\n                        <p className=\"text-sm text-foreground-500\">Método de Pago</p>\n                        <p className=\"font-medium\">{selectedSale.metodo_pago || 'Efectivo'}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-sm text-foreground-500\">Usuario</p>\n                        <p className=\"font-medium\">{selectedSale.nombre_usuario || 'Sistema'}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-sm text-foreground-500\">Estado</p>\n                        <Chip \n                          color={selectedSale.status === 'completed' ? 'success' : 'warning'} \n                          variant=\"flat\" \n                          size=\"sm\"\n                        >\n                          {selectedSale.status === 'completed' ? 'Completada' : 'Pendiente'}\n                        </Chip>\n                      </div>\n                      <div>\n                        <p className=\"text-sm text-foreground-500\">Total</p>\n                        <p className=\"font-medium text-xl\">${selectedSale.total.toFixed(2)}</p>\n                      </div>\n                    </div>\n                    \n                    <div>\n                      <h3 className=\"text-md font-medium mb-2\">Productos Vendidos</h3>\n                      <Card>\n                        <CardBody>\n                          <div className=\"space-y-3\">\n                            {selectedSale.items.length > 0 ? (\n                              selectedSale.items.map((item, index) => (\n                                <div key={index} className=\"flex justify-between items-center py-2 border-b border-divider last:border-b-0\">\n                                  <div className=\"flex-1\">\n                                    <p className=\"font-medium\">{item.nombre_producto || 'Producto'}</p>\n                                    <p className=\"text-sm text-foreground-500\">\n                                      Cantidad: {item.quantity} | Precio unitario: ${item.price.toFixed(2)}\n                                    </p>\n                                  </div>\n                                  <div className=\"text-right\">\n                                    <p className=\"font-medium\">${(item.quantity * item.price).toFixed(2)}</p>\n                                  </div>\n                                </div>\n                              ))\n                            ) : (\n                              <p className=\"text-center text-foreground-500\">No hay detalles de productos disponibles</p>\n                            )}\n                            <div className=\"flex justify-between items-center pt-3 border-t border-divider font-semibold\">\n                              <span>Total:</span>\n                              <span className=\"text-xl\">${selectedSale.total.toFixed(2)}</span>\n                            </div>\n                          </div>\n                        </CardBody>\n                      </Card>\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <Input\n                        label=\"Cliente\"\n                        placeholder=\"Nombre del cliente (opcional)\"\n                        value={newSale.customer}\n                        onValueChange={(value) => setNewSale(prev => ({ ...prev, customer: value }))}\n                      />\n                      <Select\n                        label=\"Método de Pago\"\n                        selectedKeys={[newSale.metodo_pago]}\n                        onSelectionChange={(keys) => {\n                          const value = Array.from(keys)[0] as string;\n                          setNewSale(prev => ({ ...prev, metodo_pago: value }));\n                        }}\n                      >\n                        <SelectItem key=\"Efectivo\" value=\"Efectivo\">Efectivo</SelectItem>\n                        <SelectItem key=\"Tarjeta\" value=\"Tarjeta\">Tarjeta</SelectItem>\n                        <SelectItem key=\"Transferencia\" value=\"Transferencia\">Transferencia</SelectItem>\n                      </Select>\n                    </div>\n                    \n                    <div>\n                      <div className=\"flex justify-between items-center mb-3\">\n                        <h3 className=\"text-md font-medium\">Productos</h3>\n                        <Button \n                          size=\"sm\"\n                          variant=\"flat\" \n                          color=\"primary\" \n                          onPress={handleAddItem}\n                          startContent={<Icon icon=\"lucide:plus\" />}\n                        >\n                          Agregar\n                        </Button>\n                      </div>\n                      \n                      <div className=\"space-y-3 max-h-60 overflow-y-auto\">\n                        {newSale.items.map((item, index) => {\n                          const availableStock = getAvailableStock(item.productId);\n                          const isStockLow = item.quantity > availableStock;\n                          \n                          return (\n                            <div key={index} className=\"flex items-end gap-2 p-3 border border-divider rounded-lg\">\n                              <Select\n                                label=\"Producto\"\n                                placeholder=\"Seleccionar\"\n                                className=\"flex-1\"\n                                selectedKeys={item.productId ? [item.productId] : []}\n                                onSelectionChange={(keys) => {\n                                  const value = Array.from(keys)[0] as string;\n                                  handleItemChange(index, 'productId', value);\n                                }}\n                              >\n                                {products.map((product) => (\n                                  <SelectItem \n                                    key={product.id} \n                                    value={product.id.toString()}\n                                    textValue={`${product.name} - $${product.price.toFixed(2)} (Stock: ${product.cantidad || 0})`}\n                                  >\n                                    <div className=\"flex justify-between\">\n                                      <span>{product.name}</span>\n                                      <span className=\"text-sm text-foreground-500\">\n                                        ${product.price.toFixed(2)} | Stock: {product.cantidad || 0}\n                                      </span>\n                                    </div>\n                                  </SelectItem>\n                                ))}\n                              </Select>\n                              \n                              <div className=\"flex flex-col\">\n                                <Input\n                                  type=\"number\"\n                                  label=\"Cantidad\"\n                                  min={1}\n                                  max={availableStock}\n                                  value={item.quantity.toString()}\n                                  onValueChange={(value) => handleItemChange(index, 'quantity', value)}\n                                  className=\"w-24\"\n                                  color={isStockLow ? 'danger' : 'default'}\n                                />\n                                {item.productId && (\n                                  <span className={`text-xs mt-1 ${isStockLow ? 'text-danger' : 'text-foreground-500'}`}>\n                                    Stock: {availableStock}\n                                  </span>\n                                )}\n                              </div>\n                              \n                              <div className=\"text-right min-w-20\">\n                                <p className=\"text-sm text-foreground-500\">Subtotal</p>\n                                <p className=\"font-medium\">${(item.price * item.quantity).toFixed(2)}</p>\n                              </div>\n                              \n                              <Button \n                                isIconOnly \n                                color=\"danger\" \n                                variant=\"light\"\n                                size=\"sm\"\n                                onPress={() => handleRemoveItem(index)}\n                                isDisabled={newSale.items.length === 1}\n                              >\n                                <Icon icon=\"lucide:trash-2\" />\n                              </Button>\n                            </div>\n                          );\n                        })}\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex justify-between items-center pt-4 border-t border-divider\">\n                      <span className=\"font-medium text-lg\">Total:</span>\n                      <span className=\"text-2xl font-semibold text-primary\">\n                        ${calculateTotal().toFixed(2)}\n                      </span>\n                    </div>\n                  </div>\n                )}\n              </ModalBody>\n              <ModalFooter>\n                <Button variant=\"flat\" onPress={onClose} isDisabled={loading}>\n                  {selectedSale ? 'Cerrar' : 'Cancelar'}\n                </Button>\n                {!selectedSale && (\n                  <Button \n                    color=\"primary\" \n                    onPress={handleSaveSale}\n                    isLoading={loading}\n                    isDisabled={\n                      loading || \n                      newSale.items.some(item => !item.productId || item.quantity <= 0) ||\n                      calculateTotal() <= 0\n                    }\n                  >\n                    Completar Venta\n                  </Button>\n                )}\n              </ModalFooter>\n            </>\n          )}\n        </ModalContent>\n      </Modal>\n    </div>\n  );\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}