{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\hero_invent_pro\\\\hero_invent_pro\\\\src\\\\pages\\\\inventory.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Tabs, Tab, Chip, useDisclosure, Modal, ModalContent, ModalHeader, ModalBody, ModalFooter, Button, Input } from '@heroui/react';\nimport { Icon } from '@iconify/react';\nimport { PageHeader } from '../components/page-header';\nimport { DataTable } from '../components/data-table';\n\n// Tipos de datos\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// API base URL - ajusta según tu configuración\nconst API_BASE_URL = 'http://localhost:8000/api';\nexport const Inventory = () => {\n  _s();\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const [productList, setProductList] = React.useState([]);\n  const [selectedProduct, setSelectedProduct] = React.useState(null);\n  const [adjustmentType, setAdjustmentType] = React.useState('add');\n  const [adjustmentQuantity, setAdjustmentQuantity] = React.useState('');\n  const [adjustmentReason, setAdjustmentReason] = React.useState('');\n  const [selectedTab, setSelectedTab] = React.useState('all');\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(null);\n\n  // Cargar productos desde la API\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch(`${API_BASE_URL}/productos`);\n      if (!response.ok) {\n        throw new Error('Error al cargar los productos');\n      }\n      const products = await response.json();\n      // Mapear cantidad a stock_actual si es necesario\n      const mappedProducts = products.map(product => ({\n        ...product,\n        stock_actual: product.stock_actual || product.cantidad || 0\n      }));\n      setProductList(mappedProducts);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Error desconocido');\n      console.error('Error fetching products:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Eliminar producto\n  const deleteProduct = async productId => {\n    if (!confirm('¿Está seguro de que desea eliminar este producto?')) {\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch(`${API_BASE_URL}/productos/${productId}`, {\n        method: 'DELETE'\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Error al eliminar el producto');\n      }\n\n      // Actualizar la lista de productos\n      await fetchProducts();\n      alert('Producto eliminado exitosamente');\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Error desconocido';\n      setError(errorMessage);\n      alert(`Error: ${errorMessage}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Cargar productos al montar el componente\n  React.useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  // Filtrar productos según la pestaña seleccionada\n  const filteredProducts = React.useMemo(() => {\n    if (selectedTab === 'low') {\n      return productList.filter(product => product.stock_actual <= product.stock_minimo);\n    }\n    return productList;\n  }, [productList, selectedTab]);\n\n  // Manejar acciones de fila\n  const handleRowAction = (action, product) => {\n    console.log('Action:', action, 'Product:', product); // Debug log\n\n    if (action === 'adjust') {\n      setSelectedProduct(product);\n      setAdjustmentType('add');\n      setAdjustmentQuantity('');\n      setAdjustmentReason('');\n      onOpen();\n    } else if (action === 'edit') {\n      // Redirigir a página de edición o abrir modal de edición\n      // Por ahora, usar el mismo modal pero con diferente comportamiento\n      setSelectedProduct(product);\n      setAdjustmentType('add');\n      setAdjustmentQuantity('');\n      setAdjustmentReason('Edición de producto');\n      onOpen();\n    } else if (action === 'delete') {\n      deleteProduct(product.id);\n    }\n  };\n\n  // Ajustar stock usando las APIs de entrada/salida de inventario\n  const handleAdjustStock = async () => {\n    if (!selectedProduct) return;\n    const quantity = parseInt(adjustmentQuantity);\n    if (!quantity || isNaN(quantity) || quantity <= 0) {\n      alert('Por favor ingrese una cantidad válida');\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(null);\n      const adjustmentData = {\n        producto_id: selectedProduct.id,\n        cantidad: quantity,\n        motivo: adjustmentReason || 'Ajuste de inventario'\n      };\n      let response;\n      if (adjustmentType === 'add') {\n        // Usar la API de entradas de inventario\n        adjustmentData.precio_compra = selectedProduct.costo || selectedProduct.precio;\n        response = await fetch(`${API_BASE_URL}/entradas_inventario`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(adjustmentData)\n        });\n      } else {\n        // Usar la API de salidas de inventario\n        adjustmentData.precio_venta = selectedProduct.precio;\n        response = await fetch(`${API_BASE_URL}/salidas_inventario`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(adjustmentData)\n        });\n      }\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Error al ajustar el stock');\n      }\n\n      // Actualizar la lista de productos\n      await fetchProducts();\n\n      // Cerrar modal y limpiar formulario\n      onClose();\n      setAdjustmentQuantity('');\n      setAdjustmentReason('');\n      alert(`Stock ${adjustmentType === 'add' ? 'agregado' : 'reducido'} exitosamente`);\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Error desconocido';\n      setError(errorMessage);\n      alert(`Error: ${errorMessage}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Configuración de columnas para la tabla\n  const columns = [{\n    key: 'nombre',\n    label: 'Producto',\n    renderCell: product => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-10 h-10 rounded-md overflow-hidden\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: product.imagen_url || 'https://img.heroui.chat/image/ai?w=40&h=40&u=product',\n          alt: product.nombre,\n          className: \"w-full h-full object-cover\",\n          onError: e => {\n            e.target.src = 'https://img.heroui.chat/image/ai?w=40&h=40&u=product';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium\",\n          children: product.nombre\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-foreground-500\",\n          children: [\"SKU: \", product.sku]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'stock_actual',\n    label: 'Stock Actual',\n    renderCell: product => {\n      const isLowStock = product.stock_actual <= product.stock_minimo;\n      return /*#__PURE__*/_jsxDEV(Chip, {\n        color: isLowStock ? \"danger\" : \"success\",\n        variant: \"flat\",\n        size: \"sm\",\n        children: [product.stock_actual, \" unidades\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this);\n    }\n  }, {\n    key: 'stock_minimo',\n    label: 'Stock Mínimo',\n    renderCell: product => /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [product.stock_minimo, \" unidades\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'status',\n    label: 'Estado',\n    renderCell: product => {\n      const isLowStock = product.stock_actual <= product.stock_minimo;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: isLowStock ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            icon: \"lucide:alert-triangle\",\n            className: \"text-warning mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-warning\",\n            children: \"Bajo stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            icon: \"lucide:check-circle\",\n            className: \"text-success mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-success\",\n            children: \"\\xD3ptimo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this);\n    }\n  }, {\n    key: 'precio',\n    label: 'Precio',\n    renderCell: product => {\n      var _product$precio;\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"$\", ((_product$precio = product.precio) === null || _product$precio === void 0 ? void 0 : _product$precio.toLocaleString()) || '0']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this);\n    }\n  }];\n\n  // Configuración de acciones para la tabla\n  const tableActions = [{\n    key: 'adjust',\n    label: 'Ajustar Stock',\n    icon: 'lucide:package-plus',\n    color: 'primary'\n  }, {\n    key: 'edit',\n    label: 'Editar',\n    icon: 'lucide:edit',\n    color: 'default'\n  }, {\n    key: 'delete',\n    label: 'Eliminar',\n    icon: 'lucide:trash-2',\n    color: 'danger'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n      title: \"Inventario\",\n      description: \"Control de inventario\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-danger-50 border border-danger-200 text-danger-700 px-4 py-3 rounded\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          icon: \"lucide:alert-circle\",\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 13\n        }, this), error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      \"aria-label\": \"Opciones de inventario\",\n      selectedKey: selectedTab,\n      onSelectionChange: setSelectedTab,\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        title: \"Todos los productos\"\n      }, \"all\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        title: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-1\",\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            icon: \"lucide:alert-triangle\",\n            className: \"text-warning\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Bajo stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)\n      }, \"low\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n      data: filteredProducts,\n      columns: columns,\n      onRowAction: handleRowAction,\n      actions: tableActions,\n      searchable: true,\n      searchPlaceholder: \"Buscar productos...\",\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isOpen,\n      onClose: onClose,\n      children: /*#__PURE__*/_jsxDEV(ModalContent, {\n        children: onClose => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n            className: \"flex flex-col gap-1\",\n            children: \"Ajustar Inventario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n            children: selectedProduct && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: selectedProduct.nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  color: \"primary\",\n                  variant: \"flat\",\n                  children: [\"Stock actual: \", selectedProduct.stock_actual]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  color: adjustmentType === 'add' ? 'success' : 'default',\n                  variant: adjustmentType === 'add' ? 'solid' : 'bordered',\n                  onPress: () => setAdjustmentType('add'),\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(Icon, {\n                    icon: \"lucide:plus\",\n                    className: \"mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 25\n                  }, this), \"Agregar\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  color: adjustmentType === 'subtract' ? 'danger' : 'default',\n                  variant: adjustmentType === 'subtract' ? 'solid' : 'bordered',\n                  onPress: () => setAdjustmentType('subtract'),\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(Icon, {\n                    icon: \"lucide:minus\",\n                    className: \"mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 25\n                  }, this), \"Restar\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"number\",\n                label: \"Cantidad\",\n                placeholder: \"Ingrese la cantidad\",\n                value: adjustmentQuantity,\n                onValueChange: setAdjustmentQuantity,\n                min: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                label: \"Motivo del ajuste\",\n                placeholder: \"Ingrese el motivo (opcional)\",\n                value: adjustmentReason,\n                onValueChange: setAdjustmentReason\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 21\n              }, this), adjustmentType === 'subtract' && selectedProduct.stock_actual < parseInt(adjustmentQuantity || '0') && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-warning-50 border border-warning-200 text-warning-700 px-3 py-2 rounded text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  icon: \"lucide:alert-triangle\",\n                  className: \"inline mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 25\n                }, this), \"La cantidad a restar es mayor al stock actual\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"flat\",\n              onPress: onClose,\n              disabled: loading,\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              color: adjustmentType === 'add' ? 'success' : 'danger',\n              onPress: handleAdjustStock,\n              isLoading: loading,\n              disabled: !adjustmentQuantity || parseInt(adjustmentQuantity) <= 0,\n              children: adjustmentType === 'add' ? 'Agregar al inventario' : 'Restar del inventario'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 303,\n    columnNumber: 5\n  }, this);\n};\n_s(Inventory, \"5CO02uRMj/Ccq+9Qnf41W1P3OFY=\", false, function () {\n  return [useDisclosure];\n});\n_c = Inventory;\nvar _c;\n$RefreshReg$(_c, \"Inventory\");","map":{"version":3,"names":["React","Tabs","Tab","Chip","useDisclosure","Modal","ModalContent","ModalHeader","ModalBody","ModalFooter","Button","Input","Icon","PageHeader","DataTable","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","Inventory","_s","isOpen","onOpen","onClose","productList","setProductList","useState","selectedProduct","setSelectedProduct","adjustmentType","setAdjustmentType","adjustmentQuantity","setAdjustmentQuantity","adjustmentReason","setAdjustmentReason","selectedTab","setSelectedTab","loading","setLoading","error","setError","fetchProducts","response","fetch","ok","Error","products","json","mappedProducts","map","product","stock_actual","cantidad","err","message","console","deleteProduct","productId","confirm","method","errorData","alert","errorMessage","useEffect","filteredProducts","useMemo","filter","stock_minimo","handleRowAction","action","log","id","handleAdjustStock","quantity","parseInt","isNaN","adjustmentData","producto_id","motivo","precio_compra","costo","precio","headers","body","JSON","stringify","precio_venta","columns","key","label","renderCell","className","children","src","imagen_url","alt","nombre","onError","e","target","fileName","_jsxFileName","lineNumber","columnNumber","sku","isLowStock","color","variant","size","icon","_product$precio","toLocaleString","tableActions","title","description","selectedKey","onSelectionChange","data","onRowAction","actions","searchable","searchPlaceholder","onPress","type","placeholder","value","onValueChange","min","disabled","isLoading","_c","$RefreshReg$"],"sources":["C:/Users/User/hero_invent_pro/hero_invent_pro/src/pages/inventory.tsx"],"sourcesContent":["import React from 'react';\nimport { Tabs, Tab, Chip, useDisclosure, Modal, ModalContent, ModalHeader, ModalBody, ModalFooter, Button, Input } from '@heroui/react';\nimport { Icon } from '@iconify/react';\nimport { PageHeader } from '../components/page-header';\nimport { DataTable } from '../components/data-table';\n\n// Tipos de datos\ninterface Product {\n  id: number;\n  nombre: string;\n  sku: string;\n  stock_actual: number;  // Cambiado de cantidad a stock_actual\n  stock_minimo: number;\n  imagen_url?: string;\n  precio: number;\n  descripcion?: string;\n  categoria_id?: number;\n  proveedor_id?: number;\n  codigo_barras?: string;\n  costo?: number;\n}\n\ninterface StockAdjustment {\n  producto_id: number;\n  cantidad: number;\n  precio_compra?: number;\n  precio_venta?: number;\n  motivo?: string;\n}\n\n// API base URL - ajusta según tu configuración\nconst API_BASE_URL = 'http://localhost:8000/api';\n\nexport const Inventory: React.FC = () => {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const [productList, setProductList] = React.useState<Product[]>([]);\n  const [selectedProduct, setSelectedProduct] = React.useState<Product | null>(null);\n  const [adjustmentType, setAdjustmentType] = React.useState<'add' | 'subtract'>('add');\n  const [adjustmentQuantity, setAdjustmentQuantity] = React.useState('');\n  const [adjustmentReason, setAdjustmentReason] = React.useState('');\n  const [selectedTab, setSelectedTab] = React.useState('all');\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState<string | null>(null);\n\n  // Cargar productos desde la API\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch(`${API_BASE_URL}/productos`);\n      if (!response.ok) {\n        throw new Error('Error al cargar los productos');\n      }\n      const products = await response.json();\n      // Mapear cantidad a stock_actual si es necesario\n      const mappedProducts = products.map((product: any) => ({\n        ...product,\n        stock_actual: product.stock_actual || product.cantidad || 0\n      }));\n      setProductList(mappedProducts);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Error desconocido');\n      console.error('Error fetching products:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Eliminar producto\n  const deleteProduct = async (productId: number) => {\n    if (!confirm('¿Está seguro de que desea eliminar este producto?')) {\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch(`${API_BASE_URL}/productos/${productId}`, {\n        method: 'DELETE',\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Error al eliminar el producto');\n      }\n\n      // Actualizar la lista de productos\n      await fetchProducts();\n      alert('Producto eliminado exitosamente');\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Error desconocido';\n      setError(errorMessage);\n      alert(`Error: ${errorMessage}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Cargar productos al montar el componente\n  React.useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  // Filtrar productos según la pestaña seleccionada\n  const filteredProducts = React.useMemo(() => {\n    if (selectedTab === 'low') {\n      return productList.filter(product => product.stock_actual <= product.stock_minimo);\n    }\n    return productList;\n  }, [productList, selectedTab]);\n\n  // Manejar acciones de fila\n  const handleRowAction = (action: string, product: Product) => {\n    console.log('Action:', action, 'Product:', product); // Debug log\n    \n    if (action === 'adjust') {\n      setSelectedProduct(product);\n      setAdjustmentType('add');\n      setAdjustmentQuantity('');\n      setAdjustmentReason('');\n      onOpen();\n    } else if (action === 'edit') {\n      // Redirigir a página de edición o abrir modal de edición\n      // Por ahora, usar el mismo modal pero con diferente comportamiento\n      setSelectedProduct(product);\n      setAdjustmentType('add');\n      setAdjustmentQuantity('');\n      setAdjustmentReason('Edición de producto');\n      onOpen();\n    } else if (action === 'delete') {\n      deleteProduct(product.id);\n    }\n  };\n\n  // Ajustar stock usando las APIs de entrada/salida de inventario\n  const handleAdjustStock = async () => {\n    if (!selectedProduct) return;\n\n    const quantity = parseInt(adjustmentQuantity);\n    if (!quantity || isNaN(quantity) || quantity <= 0) {\n      alert('Por favor ingrese una cantidad válida');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n\n      const adjustmentData: StockAdjustment = {\n        producto_id: selectedProduct.id,\n        cantidad: quantity,\n        motivo: adjustmentReason || 'Ajuste de inventario'\n      };\n\n      let response;\n      \n      if (adjustmentType === 'add') {\n        // Usar la API de entradas de inventario\n        adjustmentData.precio_compra = selectedProduct.costo || selectedProduct.precio;\n        response = await fetch(`${API_BASE_URL}/entradas_inventario`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(adjustmentData)\n        });\n      } else {\n        // Usar la API de salidas de inventario\n        adjustmentData.precio_venta = selectedProduct.precio;\n        response = await fetch(`${API_BASE_URL}/salidas_inventario`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(adjustmentData)\n        });\n      }\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Error al ajustar el stock');\n      }\n\n      // Actualizar la lista de productos\n      await fetchProducts();\n      \n      // Cerrar modal y limpiar formulario\n      onClose();\n      setAdjustmentQuantity('');\n      setAdjustmentReason('');\n      \n      alert(`Stock ${adjustmentType === 'add' ? 'agregado' : 'reducido'} exitosamente`);\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Error desconocido';\n      setError(errorMessage);\n      alert(`Error: ${errorMessage}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Configuración de columnas para la tabla\n  const columns = [\n    {\n      key: 'nombre',\n      label: 'Producto',\n      renderCell: (product: Product) => (\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 rounded-md overflow-hidden\">\n            <img \n              src={product.imagen_url || 'https://img.heroui.chat/image/ai?w=40&h=40&u=product'} \n              alt={product.nombre}\n              className=\"w-full h-full object-cover\"\n              onError={(e) => {\n                (e.target as HTMLImageElement).src = 'https://img.heroui.chat/image/ai?w=40&h=40&u=product';\n              }}\n            />\n          </div>\n          <div>\n            <p className=\"font-medium\">{product.nombre}</p>\n            <p className=\"text-xs text-foreground-500\">SKU: {product.sku}</p>\n          </div>\n        </div>\n      )\n    },\n    {\n      key: 'stock_actual',\n      label: 'Stock Actual',\n      renderCell: (product: Product) => {\n        const isLowStock = product.stock_actual <= product.stock_minimo;\n        return (\n          <Chip \n            color={isLowStock ? \"danger\" : \"success\"} \n            variant=\"flat\" \n            size=\"sm\"\n          >\n            {product.stock_actual} unidades\n          </Chip>\n        );\n      }\n    },\n    {\n      key: 'stock_minimo',\n      label: 'Stock Mínimo',\n      renderCell: (product: Product) => (\n        <span>{product.stock_minimo} unidades</span>\n      )\n    },\n    {\n      key: 'status',\n      label: 'Estado',\n      renderCell: (product: Product) => {\n        const isLowStock = product.stock_actual <= product.stock_minimo;\n        return (\n          <div className=\"flex items-center\">\n            {isLowStock ? (\n              <>\n                <Icon icon=\"lucide:alert-triangle\" className=\"text-warning mr-1\" />\n                <span className=\"text-warning\">Bajo stock</span>\n              </>\n            ) : (\n              <>\n                <Icon icon=\"lucide:check-circle\" className=\"text-success mr-1\" />\n                <span className=\"text-success\">Óptimo</span>\n              </>\n            )}\n          </div>\n        );\n      }\n    },\n    {\n      key: 'precio',\n      label: 'Precio',\n      renderCell: (product: Product) => (\n        <span>${product.precio?.toLocaleString() || '0'}</span>\n      )\n    }\n  ];\n\n  // Configuración de acciones para la tabla\n  const tableActions = [\n    {\n      key: 'adjust',\n      label: 'Ajustar Stock',\n      icon: 'lucide:package-plus',\n      color: 'primary' as const\n    },\n    {\n      key: 'edit',\n      label: 'Editar',\n      icon: 'lucide:edit',\n      color: 'default' as const\n    },\n    {\n      key: 'delete',\n      label: 'Eliminar',\n      icon: 'lucide:trash-2',\n      color: 'danger' as const\n    }\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <PageHeader \n        title=\"Inventario\" \n        description=\"Control de inventario\"\n      />\n      \n      {error && (\n        <div className=\"bg-danger-50 border border-danger-200 text-danger-700 px-4 py-3 rounded\">\n          <div className=\"flex items-center\">\n            <Icon icon=\"lucide:alert-circle\" className=\"mr-2\" />\n            {error}\n          </div>\n        </div>\n      )}\n      \n      <Tabs \n        aria-label=\"Opciones de inventario\" \n        selectedKey={selectedTab}\n        onSelectionChange={setSelectedTab as any}\n      >\n        <Tab key=\"all\" title=\"Todos los productos\" />\n        <Tab key=\"low\" title={\n          <div className=\"flex items-center gap-1\">\n            <Icon icon=\"lucide:alert-triangle\" className=\"text-warning\" />\n            <span>Bajo stock</span>\n          </div>\n        } />\n      </Tabs>\n      \n      <DataTable \n        data={filteredProducts}\n        columns={columns}\n        onRowAction={handleRowAction}\n        actions={tableActions}\n        searchable\n        searchPlaceholder=\"Buscar productos...\"\n        loading={loading}\n      />\n      \n      <Modal isOpen={isOpen} onClose={onClose}>\n        <ModalContent>\n          {(onClose) => (\n            <>\n              <ModalHeader className=\"flex flex-col gap-1\">\n                Ajustar Inventario\n              </ModalHeader>\n              <ModalBody>\n                {selectedProduct && (\n                  <div className=\"space-y-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"font-medium\">{selectedProduct.nombre}</span>\n                      <Chip color=\"primary\" variant=\"flat\">\n                        Stock actual: {selectedProduct.stock_actual}\n                      </Chip>\n                    </div>\n                    \n                    <div className=\"flex gap-2\">\n                      <Button \n                        color={adjustmentType === 'add' ? 'success' : 'default'} \n                        variant={adjustmentType === 'add' ? 'solid' : 'bordered'}\n                        onPress={() => setAdjustmentType('add')}\n                        className=\"flex-1\"\n                      >\n                        <Icon icon=\"lucide:plus\" className=\"mr-1\" />\n                        Agregar\n                      </Button>\n                      <Button \n                        color={adjustmentType === 'subtract' ? 'danger' : 'default'} \n                        variant={adjustmentType === 'subtract' ? 'solid' : 'bordered'}\n                        onPress={() => setAdjustmentType('subtract')}\n                        className=\"flex-1\"\n                      >\n                        <Icon icon=\"lucide:minus\" className=\"mr-1\" />\n                        Restar\n                      </Button>\n                    </div>\n                    \n                    <Input\n                      type=\"number\"\n                      label=\"Cantidad\"\n                      placeholder=\"Ingrese la cantidad\"\n                      value={adjustmentQuantity}\n                      onValueChange={setAdjustmentQuantity}\n                      min=\"1\"\n                    />\n                    \n                    <Input\n                      label=\"Motivo del ajuste\"\n                      placeholder=\"Ingrese el motivo (opcional)\"\n                      value={adjustmentReason}\n                      onValueChange={setAdjustmentReason}\n                    />\n\n                    {adjustmentType === 'subtract' && selectedProduct.stock_actual < parseInt(adjustmentQuantity || '0') && (\n                      <div className=\"bg-warning-50 border border-warning-200 text-warning-700 px-3 py-2 rounded text-sm\">\n                        <Icon icon=\"lucide:alert-triangle\" className=\"inline mr-1\" />\n                        La cantidad a restar es mayor al stock actual\n                      </div>\n                    )}\n                  </div>\n                )}\n              </ModalBody>\n              <ModalFooter>\n                <Button variant=\"flat\" onPress={onClose} disabled={loading}>\n                  Cancelar\n                </Button>\n                <Button \n                  color={adjustmentType === 'add' ? 'success' : 'danger'} \n                  onPress={handleAdjustStock}\n                  isLoading={loading}\n                  disabled={!adjustmentQuantity || parseInt(adjustmentQuantity) <= 0}\n                >\n                  {adjustmentType === 'add' ? 'Agregar al inventario' : 'Restar del inventario'}\n                </Button>\n              </ModalFooter>\n            </>\n          )}\n        </ModalContent>\n      </Modal>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}