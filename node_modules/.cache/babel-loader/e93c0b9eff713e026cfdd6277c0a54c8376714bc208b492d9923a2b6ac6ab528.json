{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\hero_invent_pro\\\\hero_invent_pro\\\\src\\\\pages\\\\purchases.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Tabs, Tab, Chip, Card, CardBody, useDisclosure, Modal, ModalContent, ModalHeader, ModalBody, ModalFooter, Button, Input, Select, SelectItem, Dropdown, DropdownTrigger, DropdownMenu, DropdownItem } from '@heroui/react';\nimport { Icon } from '@iconify/react';\nimport { DataTable } from '../components/data-table';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8000/api';\n\n// Tipos de datos\n\nexport const Purchases = () => {\n  _s();\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const [purchases, setPurchases] = React.useState([]);\n  const [products, setProducts] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n  const [selectedTab, setSelectedTab] = React.useState('list');\n  const [selectedPurchase, setSelectedPurchase] = React.useState(null);\n  const [modalMode, setModalMode] = React.useState('create');\n\n  // Form state\n  const [formData, setFormData] = React.useState({\n    producto_id: '',\n    cantidad: '',\n    precio_compra: ''\n  });\n\n  // Cargar datos iniciales\n  React.useEffect(() => {\n    fetchPurchases();\n    fetchProducts();\n  }, []);\n\n  // Obtener compras desde la API\n  const fetchPurchases = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`${API_BASE_URL}/entradas_inventario`);\n      if (response.ok) {\n        const data = await response.json();\n        setPurchases(data);\n      } else {\n        console.error('Error fetching purchases:', response.statusText);\n      }\n    } catch (error) {\n      console.error('Error fetching purchases:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Obtener productos desde la API\n  const fetchProducts = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/productos`);\n      if (response.ok) {\n        const data = await response.json();\n        setProducts(data);\n        console.log('Products loaded:', data); // Debug\n      } else {\n        console.error('Error fetching products:', response.statusText);\n      }\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    }\n  };\n\n  // Crear nueva compra\n  const handleCreatePurchase = async () => {\n    if (!formData.producto_id || !formData.cantidad || !formData.precio_compra) {\n      alert('Por favor complete todos los campos obligatorios');\n      return;\n    }\n    try {\n      setLoading(true);\n      const response = await fetch(`${API_BASE_URL}/entradas_inventario`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          producto_id: parseInt(formData.producto_id),\n          cantidad: parseInt(formData.cantidad),\n          precio_compra: parseFloat(formData.precio_compra)\n        })\n      });\n      if (response.ok) {\n        await fetchPurchases(); // Refrescar la lista\n        resetForm();\n        onClose();\n        alert('Compra registrada exitosamente');\n      } else {\n        const errorData = await response.json();\n        alert(`Error: ${errorData.error || 'No se pudo registrar la compra'}`);\n      }\n    } catch (error) {\n      console.error('Error creating purchase:', error);\n      alert('Error al registrar la compra');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Editar compra existente\n  const handleUpdatePurchase = async () => {\n    if (!selectedPurchase || !formData.producto_id || !formData.cantidad || !formData.precio_compra) {\n      alert('Por favor complete todos los campos obligatorios');\n      return;\n    }\n    try {\n      setLoading(true);\n\n      // Preparar los datos con la estructura correcta\n      const updateData = {\n        producto_id: parseInt(formData.producto_id),\n        cantidad: parseInt(formData.cantidad),\n        precio_compra: parseFloat(formData.precio_compra)\n      };\n      console.log('Enviando datos de actualización:', updateData); // Debug\n\n      const response = await fetch(`${API_BASE_URL}/entradas_inventario/${selectedPurchase.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(updateData)\n      });\n      if (response.ok) {\n        await fetchPurchases(); // Refrescar la lista\n        setSelectedPurchase(null);\n        resetForm();\n        onClose();\n        alert('Compra actualizada exitosamente');\n      } else {\n        const errorText = await response.text();\n        console.error('Error response:', errorText);\n        try {\n          const errorData = JSON.parse(errorText);\n          alert(`Error: ${errorData.detail || errorData.error || errorData.message || 'No se pudo actualizar la compra'}`);\n        } catch {\n          alert(`Error: ${response.status} - ${response.statusText}`);\n        }\n      }\n    } catch (error) {\n      console.error('Error updating purchase:', error);\n      alert('Error al actualizar la compra. Verifique su conexión e intente nuevamente.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Eliminar compra\n  const handleDeletePurchase = async purchaseId => {\n    const purchaseToDelete = purchases.find(p => p.id === purchaseId);\n    const confirmMessage = purchaseToDelete ? `¿Está seguro de que desea eliminar la compra #${purchaseId} del producto \"${purchaseToDelete.nombre_producto}\"?\\n\\nEsta acción no se puede deshacer y afectará el inventario.` : `¿Está seguro de que desea eliminar la compra #${purchaseId}?\\n\\nEsta acción no se puede deshacer.`;\n    if (!confirm(confirmMessage)) {\n      return;\n    }\n    try {\n      setLoading(true);\n      console.log('Eliminando compra ID:', purchaseId); // Debug\n\n      const response = await fetch(`${API_BASE_URL}/entradas_inventario/${purchaseId}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        // Actualizar la lista local inmediatamente para mejor UX\n        setPurchases(prev => prev.filter(purchase => purchase.id !== purchaseId));\n\n        // Luego refrescar desde el servidor para asegurar consistencia\n        await fetchPurchases();\n        alert('Compra eliminada exitosamente');\n      } else {\n        const errorText = await response.text();\n        console.error('Delete error response:', errorText);\n        try {\n          const errorData = JSON.parse(errorText);\n          const errorMessage = errorData.detail || errorData.error || errorData.message || 'No se pudo eliminar la compra';\n          alert(`Error: ${errorMessage}`);\n        } catch {\n          alert(`Error: ${response.status} - ${response.statusText}`);\n        }\n      }\n    } catch (error) {\n      console.error('Error deleting purchase:', error);\n      alert('Error de conexión al eliminar la compra. Verifique su conexión e intente nuevamente.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Ver detalle de compra\n  const handleViewPurchase = async purchase => {\n    setSelectedPurchase(purchase);\n    setModalMode('view');\n    onOpen();\n  };\n\n  // Editar compra\n  const handleEditPurchase = async purchase => {\n    var _purchase$producto_id;\n    setSelectedPurchase(purchase);\n    setFormData({\n      producto_id: ((_purchase$producto_id = purchase.producto_id) === null || _purchase$producto_id === void 0 ? void 0 : _purchase$producto_id.toString()) || '',\n      cantidad: purchase.cantidad.toString(),\n      precio_compra: purchase.precio_compra.toString()\n    });\n    setModalMode('edit');\n    onOpen();\n  };\n\n  // Abrir modal para nueva compra\n  const handleNewPurchase = () => {\n    setSelectedPurchase(null);\n    setModalMode('create');\n    resetForm();\n    onOpen();\n  };\n\n  // Cerrar modal y limpiar estado\n  const handleCloseModal = () => {\n    setSelectedPurchase(null);\n    resetForm();\n    onClose();\n  };\n\n  // Manejar acciones de fila - CORREGIDO\n  const handleRowAction = (action, purchase) => {\n    const actionKey = String(action); // Convertir a string por si acaso\n    console.log('Acción recibida:', actionKey, 'Purchase:', purchase); // Debug\n\n    switch (actionKey) {\n      case 'view':\n        handleViewPurchase(purchase);\n        break;\n      case 'edit':\n        handleEditPurchase(purchase);\n        break;\n      case 'delete':\n        handleDeletePurchase(purchase.id);\n        break;\n      default:\n        console.warn('Acción no reconocida:', actionKey);\n    }\n  };\n  const resetForm = () => {\n    setFormData({\n      producto_id: '',\n      cantidad: '',\n      precio_compra: ''\n    });\n  };\n  const handleInputChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  // Función para manejar el cambio del Select\n  const handleProductSelect = value => {\n    console.log('Selected product ID:', value); // Debug\n    handleInputChange('producto_id', value);\n  };\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('es-CO', {\n      style: 'currency',\n      currency: 'COP'\n    }).format(amount);\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('es-CO', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  // Calcular totales\n  const totalPurchases = purchases.length;\n  const totalAmount = purchases.reduce((sum, purchase) => sum + purchase.cantidad * purchase.precio_compra, 0);\n  const totalQuantity = purchases.reduce((sum, purchase) => sum + purchase.cantidad, 0);\n\n  // Configuración de columnas para la tabla\n  const columns = [{\n    key: 'id',\n    label: '# Compra',\n    renderCell: purchase => /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"font-medium\",\n      children: [\"#\", purchase.id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'producto',\n    label: 'Producto',\n    renderCell: purchase => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-medium\",\n        children: purchase.nombre_producto\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-foreground-500\",\n        children: formatDate(purchase.fecha_entrada)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'cantidad',\n    label: 'Cantidad',\n    renderCell: purchase => /*#__PURE__*/_jsxDEV(Chip, {\n      color: \"primary\",\n      variant: \"flat\",\n      size: \"sm\",\n      children: [purchase.cantidad, \" unidades\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'precio_compra',\n    label: 'Precio Unitario',\n    renderCell: purchase => /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"font-medium\",\n      children: formatCurrency(purchase.precio_compra)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'total',\n    label: 'Total',\n    renderCell: purchase => /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"font-semibold text-success\",\n      children: formatCurrency(purchase.cantidad * purchase.precio_compra)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'fecha',\n    label: 'Fecha',\n    renderCell: purchase => /*#__PURE__*/_jsxDEV(\"span\", {\n      children: formatDate(purchase.fecha_entrada)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'actions',\n    label: 'Acciones',\n    renderCell: purchase => /*#__PURE__*/_jsxDEV(Dropdown, {\n      children: [/*#__PURE__*/_jsxDEV(DropdownTrigger, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          isIconOnly: true,\n          size: \"sm\",\n          variant: \"light\",\n          children: /*#__PURE__*/_jsxDEV(Icon, {\n            icon: \"lucide:more-vertical\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n        \"aria-label\": \"Acciones de compra\",\n        onAction: key => handleRowAction(key, purchase),\n        children: [/*#__PURE__*/_jsxDEV(DropdownItem, {\n          startContent: /*#__PURE__*/_jsxDEV(Icon, {\n            icon: \"lucide:eye\",\n            className: \"text-foreground-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 29\n          }, this),\n          children: \"Ver detalles\"\n        }, \"view\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n          startContent: /*#__PURE__*/_jsxDEV(Icon, {\n            icon: \"lucide:edit\",\n            className: \"text-foreground-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 29\n          }, this),\n          children: \"Editar\"\n        }, \"edit\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n          className: \"text-danger\",\n          color: \"danger\",\n          startContent: /*#__PURE__*/_jsxDEV(Icon, {\n            icon: \"lucide:trash-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 29\n          }, this),\n          children: \"Eliminar\"\n        }, \"delete\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 9\n    }, this)\n  }];\n\n  // Tarjetas de estadísticas\n  const statsCards = [{\n    title: 'Total Compras',\n    value: totalPurchases.toString(),\n    icon: 'lucide:shopping-cart',\n    color: 'text-primary'\n  }, {\n    title: 'Monto Total',\n    value: formatCurrency(totalAmount),\n    icon: 'lucide:dollar-sign',\n    color: 'text-success'\n  }, {\n    title: 'Unidades Compradas',\n    value: totalQuantity.toString(),\n    icon: 'lucide:package',\n    color: 'text-warning'\n  }];\n\n  // Función para obtener el título del modal\n  const getModalTitle = () => {\n    switch (modalMode) {\n      case 'create':\n        return 'Nueva Compra';\n      case 'view':\n        return `Detalle de Compra #${selectedPurchase === null || selectedPurchase === void 0 ? void 0 : selectedPurchase.id}`;\n      case 'edit':\n        return `Editar Compra #${selectedPurchase === null || selectedPurchase === void 0 ? void 0 : selectedPurchase.id}`;\n      default:\n        return 'Compra';\n    }\n  };\n\n  // Función para obtener el icono del modal\n  const getModalIcon = () => {\n    switch (modalMode) {\n      case 'create':\n        return 'lucide:plus';\n      case 'view':\n        return 'lucide:eye';\n      case 'edit':\n        return 'lucide:edit';\n      default:\n        return 'lucide:shopping-cart';\n    }\n  };\n\n  // Obtener el producto seleccionado para mostrar su información\n  const selectedProduct = products.find(p => p.id.toString() === formData.producto_id);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold\",\n          children: \"Compras\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-foreground-600\",\n          children: \"Gesti\\xF3n de compras y entradas de inventario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        onPress: handleNewPurchase,\n        startContent: /*#__PURE__*/_jsxDEV(Icon, {\n          icon: \"lucide:plus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 25\n        }, this),\n        children: \"Nueva Compra\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n      children: statsCards.map((stat, index) => /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardBody, {\n          className: \"flex flex-row items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-3 rounded-lg bg-default-100 ${stat.color}`,\n            children: /*#__PURE__*/_jsxDEV(Icon, {\n              icon: stat.icon,\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-foreground-600\",\n              children: stat.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl font-semibold\",\n              children: stat.value\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      \"aria-label\": \"Opciones de compras\",\n      selectedKey: selectedTab,\n      onSelectionChange: setSelectedTab,\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        title: \"Lista de Compras\"\n      }, \"list\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        title: \"Reportes\"\n      }, \"reports\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 7\n    }, this), selectedTab === 'list' && /*#__PURE__*/_jsxDEV(DataTable, {\n      data: purchases,\n      columns: columns,\n      loading: loading,\n      searchable: true,\n      searchPlaceholder: \"Buscar compras...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 9\n    }, this), selectedTab === 'reports' && /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(CardBody, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8\",\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            icon: \"lucide:bar-chart-3\",\n            className: \"w-12 h-12 mx-auto mb-4 text-foreground-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold mb-2\",\n            children: \"Reportes de Compras\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-foreground-600\",\n            children: \"Esta secci\\xF3n estar\\xE1 disponible pr\\xF3ximamente para generar reportes detallados de compras.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isOpen,\n      onClose: handleCloseModal,\n      size: \"lg\",\n      scrollBehavior: \"inside\",\n      children: /*#__PURE__*/_jsxDEV(ModalContent, {\n        children: onClose => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n            className: \"flex flex-col gap-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                icon: getModalIcon(),\n                className: \"text-primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 19\n              }, this), getModalTitle()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n            children: modalMode === 'view' && selectedPurchase ?\n            /*#__PURE__*/\n            // Vista de detalle (solo lectura)\n            _jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-foreground-500\",\n                    children: \"Producto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 552,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium\",\n                    children: selectedPurchase.nombre_producto\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-foreground-500\",\n                    children: \"Cantidad\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 556,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium\",\n                    children: [selectedPurchase.cantidad, \" unidades\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 557,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 555,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-foreground-500\",\n                    children: \"Precio Unitario\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 560,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium\",\n                    children: formatCurrency(selectedPurchase.precio_compra)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 561,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-foreground-500\",\n                    children: \"Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 564,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium text-success\",\n                    children: formatCurrency(selectedPurchase.cantidad * selectedPurchase.precio_compra)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 565,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 563,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-span-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-foreground-500\",\n                    children: \"Fecha de Entrada\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 570,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium\",\n                    children: formatDate(selectedPurchase.fecha_entrada)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 571,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 569,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 19\n            }, this) :\n            /*#__PURE__*/\n            // Formulario para crear o editar\n            _jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(Select, {\n                  label: \"Producto\",\n                  placeholder: \"Seleccione un producto\",\n                  value: formData.producto_id,\n                  selectedKeys: formData.producto_id ? [formData.producto_id] : [],\n                  onSelectionChange: keys => {\n                    const selectedKey = Array.from(keys)[0];\n                    handleProductSelect(selectedKey || '');\n                  },\n                  isRequired: true,\n                  className: \"max-w-full\",\n                  listboxProps: {\n                    itemClasses: {\n                      base: [\"rounded-md\", \"text-default-500\", \"transition-opacity\", \"data-[hover=true]:text-foreground\", \"data-[hover=true]:bg-default-100\", \"dark:data-[hover=true]:bg-default-50\", \"data-[selectable=true]:focus:bg-default-50\", \"data-[pressed=true]:opacity-70\", \"data-[focus-visible=true]:ring-default-500\"]\n                    }\n                  },\n                  popoverProps: {\n                    classNames: {\n                      base: \"before:bg-default-200\",\n                      content: \"p-0 border-small border-divider bg-background max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 hover:scrollbar-thumb-gray-500\"\n                    }\n                  },\n                  renderValue: items => {\n                    return items.map(item => {\n                      const product = products.find(p => p.id.toString() === item.key);\n                      return product ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex flex-col\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium\",\n                            children: product.nombre\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 618,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-xs text-foreground-500\",\n                            children: product.sku ? `SKU: ${product.sku}` : `ID: ${product.id}`\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 619,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 617,\n                          columnNumber: 33\n                        }, this)\n                      }, item.key, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 616,\n                        columnNumber: 31\n                      }, this) : null;\n                    });\n                  },\n                  children: products.map(product => /*#__PURE__*/_jsxDEV(SelectItem, {\n                    value: product.id.toString(),\n                    textValue: `${product.nombre} - ${product.sku || `ID: ${product.id}`}`,\n                    className: formData.producto_id === product.id.toString() ? \"bg-primary-50 border-l-4 border-primary data-[hover=true]:bg-primary-100\" : \"\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-col py-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium text-foreground\",\n                        children: product.nombre\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 637,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center mt-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xs text-foreground-500\",\n                          children: product.sku ? `SKU: ${product.sku}` : `ID: ${product.id}`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 639,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex gap-2 text-xs\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-primary\",\n                            children: [\"Stock: \", product.cantidad]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 643,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-success\",\n                            children: [\"Precio: \", formatCurrency(product.precio)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 644,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 642,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 638,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 636,\n                      columnNumber: 29\n                    }, this)\n                  }, product.id.toString(), false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 629,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 580,\n                  columnNumber: 23\n                }, this), selectedProduct && /*#__PURE__*/_jsxDEV(Card, {\n                  className: \"bg-primary-50 border border-primary-200\",\n                  children: /*#__PURE__*/_jsxDEV(CardBody, {\n                    className: \"py-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center text-sm\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [/*#__PURE__*/_jsxDEV(Icon, {\n                          icon: \"lucide:check-circle\",\n                          className: \"text-primary w-4 h-4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 658,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium text-primary\",\n                          children: \"Producto seleccionado:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 659,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-semibold\",\n                          children: selectedProduct.nombre\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 660,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 657,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 656,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center text-sm mt-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: \"Stock actual: \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 665,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                          size: \"sm\",\n                          color: \"primary\",\n                          variant: \"flat\",\n                          children: [selectedProduct.cantidad, \" unidades\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 666,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 664,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: \"Precio sugerido: \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 671,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                          size: \"sm\",\n                          color: \"success\",\n                          variant: \"flat\",\n                          children: formatCurrency(selectedProduct.precio)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 672,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 670,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 663,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 655,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 654,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"number\",\n                label: \"Cantidad\",\n                placeholder: \"Ingrese la cantidad comprada\",\n                value: formData.cantidad,\n                onValueChange: value => handleInputChange('cantidad', value),\n                min: \"1\",\n                isRequired: true,\n                startContent: /*#__PURE__*/_jsxDEV(Icon, {\n                  icon: \"lucide:package\",\n                  className: \"text-foreground-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 690,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"number\",\n                label: \"Precio de Compra\",\n                placeholder: \"Ingrese el precio unitario\",\n                value: formData.precio_compra,\n                onValueChange: value => handleInputChange('precio_compra', value),\n                min: \"0\",\n                step: \"0.01\",\n                isRequired: true,\n                startContent: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-foreground-400\",\n                  children: \"$\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 702,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 693,\n                columnNumber: 21\n              }, this), formData.cantidad && formData.precio_compra && /*#__PURE__*/_jsxDEV(Card, {\n                className: \"bg-success-50 border border-success-200\",\n                children: /*#__PURE__*/_jsxDEV(CardBody, {\n                  className: \"py-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium\",\n                      children: \"Total de la compra:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 710,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg font-bold text-success\",\n                      children: formatCurrency(parseInt(formData.cantidad || '0') * parseFloat(formData.precio_compra || '0'))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 711,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 709,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 708,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"flat\",\n              onPress: handleCloseModal,\n              children: modalMode === 'view' ? 'Cerrar' : 'Cancelar'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 17\n            }, this), modalMode === 'create' && /*#__PURE__*/_jsxDEV(Button, {\n              color: \"primary\",\n              onPress: handleCreatePurchase,\n              isLoading: loading,\n              startContent: !loading && /*#__PURE__*/_jsxDEV(Icon, {\n                icon: \"lucide:check\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 732,\n                columnNumber: 47\n              }, this),\n              children: \"Registrar Compra\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 728,\n              columnNumber: 19\n            }, this), modalMode === 'edit' && /*#__PURE__*/_jsxDEV(Button, {\n              color: \"primary\",\n              onPress: handleUpdatePurchase,\n              isLoading: loading,\n              startContent: !loading && /*#__PURE__*/_jsxDEV(Icon, {\n                icon: \"lucide:check\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 742,\n                columnNumber: 47\n              }, this),\n              children: \"Actualizar Compra\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .scrollbar-thin {\n          scrollbar-width: thin;\n        }\n        .scrollbar-thumb-gray-400::-webkit-scrollbar-thumb {\n          background-color: #9ca3af;\n          border-radius: 6px;\n        }\n        .scrollbar-track-gray-100::-webkit-scrollbar-track {\n          background-color: #f3f4f6;\n        }\n        .hover\\\\:scrollbar-thumb-gray-500:hover::-webkit-scrollbar-thumb {\n          background-color: #6b7280;\n        }\n        ::-webkit-scrollbar {\n          width: 8px;\n        }\n        ::-webkit-scrollbar-track {\n          background: #f1f1f1;\n          border-radius: 6px;\n        }\n        ::-webkit-scrollbar-thumb {\n          background: #c1c1c1;\n          border-radius: 6px;\n        }\n        ::-webkit-scrollbar-thumb:hover {\n          background: #a8a8a8;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 754,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 470,\n    columnNumber: 5\n  }, this);\n};\n_s(Purchases, \"KTj9CZEbgzGLcgm8pfuPJruGNN0=\", false, function () {\n  return [useDisclosure];\n});\n_c = Purchases;\nvar _c;\n$RefreshReg$(_c, \"Purchases\");","map":{"version":3,"names":["React","Tabs","Tab","Chip","Card","CardBody","useDisclosure","Modal","ModalContent","ModalHeader","ModalBody","ModalFooter","Button","Input","Select","SelectItem","Dropdown","DropdownTrigger","DropdownMenu","DropdownItem","Icon","DataTable","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","Purchases","_s","isOpen","onOpen","onClose","purchases","setPurchases","useState","products","setProducts","loading","setLoading","selectedTab","setSelectedTab","selectedPurchase","setSelectedPurchase","modalMode","setModalMode","formData","setFormData","producto_id","cantidad","precio_compra","useEffect","fetchPurchases","fetchProducts","response","fetch","ok","data","json","console","error","statusText","log","handleCreatePurchase","alert","method","headers","body","JSON","stringify","parseInt","parseFloat","resetForm","errorData","handleUpdatePurchase","updateData","id","errorText","text","parse","detail","message","status","handleDeletePurchase","purchaseId","purchaseToDelete","find","p","confirmMessage","nombre_producto","confirm","prev","filter","purchase","errorMessage","handleViewPurchase","handleEditPurchase","_purchase$producto_id","toString","handleNewPurchase","handleCloseModal","handleRowAction","action","actionKey","String","warn","handleInputChange","field","value","handleProductSelect","formatCurrency","amount","Intl","NumberFormat","style","currency","format","formatDate","dateString","Date","toLocaleDateString","year","month","day","totalPurchases","length","totalAmount","reduce","sum","totalQuantity","columns","key","label","renderCell","className","children","fileName","_jsxFileName","lineNumber","columnNumber","fecha_entrada","color","variant","size","isIconOnly","icon","onAction","startContent","statsCards","title","getModalTitle","getModalIcon","selectedProduct","onPress","map","stat","index","selectedKey","onSelectionChange","searchable","searchPlaceholder","scrollBehavior","placeholder","selectedKeys","keys","Array","from","isRequired","listboxProps","itemClasses","base","popoverProps","classNames","content","renderValue","items","item","product","nombre","sku","textValue","precio","type","onValueChange","min","step","isLoading","jsx","_c","$RefreshReg$"],"sources":["C:/Users/User/hero_invent_pro/hero_invent_pro/src/pages/purchases.tsx"],"sourcesContent":["import React from 'react';\nimport { Tabs, Tab, Chip, Card, CardBody, useDisclosure, Modal, ModalContent, ModalHeader, ModalBody, ModalFooter, Button, Input, Select, SelectItem,Dropdown,DropdownTrigger,DropdownMenu,DropdownItem \n} from '@heroui/react';\nimport { Icon } from '@iconify/react';\nimport { PageHeader } from '../components/page-header';\nimport { DataTable } from '../components/data-table';\n\nconst API_BASE_URL = 'http://localhost:8000/api';\n\n// Tipos de datos\ninterface Product {id: number;nombre: string;sku?: string;precio: number;cantidad: number;costo?: number;\n}\n\ninterface Purchase {id: number;nombre_producto: string;cantidad: number;precio_compra: number;fecha_entrada: string;producto_id?: number;\n}\n\ninterface PurchaseForm {producto_id: string;cantidad: string;precio_compra: string;\n}\n\ntype ModalMode = 'create' | 'view' | 'edit';\n\nexport const Purchases: React.FC = () => {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const [purchases, setPurchases] = React.useState<Purchase[]>([]);\n  const [products, setProducts] = React.useState<Product[]>([]);\n  const [loading, setLoading] = React.useState(false);\n  const [selectedTab, setSelectedTab] = React.useState('list');\n  const [selectedPurchase, setSelectedPurchase] = React.useState<Purchase | null>(null);\n  const [modalMode, setModalMode] = React.useState<ModalMode>('create');\n  \n  // Form state\n  const [formData, setFormData] = React.useState<PurchaseForm>({\n    producto_id: '',\n    cantidad: '',\n    precio_compra: ''\n  });\n\n  // Cargar datos iniciales\n  React.useEffect(() => {\n    fetchPurchases();\n    fetchProducts();\n  }, []);\n\n  // Obtener compras desde la API\n  const fetchPurchases = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`${API_BASE_URL}/entradas_inventario`);\n      if (response.ok) {\n        const data = await response.json();\n        setPurchases(data);\n      } else {\n        console.error('Error fetching purchases:', response.statusText);\n      }\n    } catch (error) {\n      console.error('Error fetching purchases:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Obtener productos desde la API\n  const fetchProducts = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/productos`);\n      if (response.ok) {\n        const data = await response.json();\n        setProducts(data);\n        console.log('Products loaded:', data); // Debug\n      } else {\n        console.error('Error fetching products:', response.statusText);\n      }\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    }\n  };\n\n  // Crear nueva compra\n  const handleCreatePurchase = async () => {\n    if (!formData.producto_id || !formData.cantidad || !formData.precio_compra) {\n      alert('Por favor complete todos los campos obligatorios');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const response = await fetch(`${API_BASE_URL}/entradas_inventario`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          producto_id: parseInt(formData.producto_id),\n          cantidad: parseInt(formData.cantidad),\n          precio_compra: parseFloat(formData.precio_compra)\n        }),\n      });\n\n      if (response.ok) {\n        await fetchPurchases(); // Refrescar la lista\n        resetForm();\n        onClose();\n        alert('Compra registrada exitosamente');\n      } else {\n        const errorData = await response.json();\n        alert(`Error: ${errorData.error || 'No se pudo registrar la compra'}`);\n      }\n    } catch (error) {\n      console.error('Error creating purchase:', error);\n      alert('Error al registrar la compra');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Editar compra existente\n  const handleUpdatePurchase = async () => {\n    if (!selectedPurchase || !formData.producto_id || !formData.cantidad || !formData.precio_compra) {\n      alert('Por favor complete todos los campos obligatorios');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      \n      // Preparar los datos con la estructura correcta\n      const updateData = {\n        producto_id: parseInt(formData.producto_id),\n        cantidad: parseInt(formData.cantidad),\n        precio_compra: parseFloat(formData.precio_compra)\n      };\n\n      console.log('Enviando datos de actualización:', updateData); // Debug\n\n      const response = await fetch(`${API_BASE_URL}/entradas_inventario/${selectedPurchase.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(updateData),\n      });\n\n      if (response.ok) {\n        await fetchPurchases(); // Refrescar la lista\n        setSelectedPurchase(null);\n        resetForm();\n        onClose();\n        alert('Compra actualizada exitosamente');\n      } else {\n        const errorText = await response.text();\n        console.error('Error response:', errorText);\n        \n        try {\n          const errorData = JSON.parse(errorText);\n          alert(`Error: ${errorData.detail || errorData.error || errorData.message || 'No se pudo actualizar la compra'}`);\n        } catch {\n          alert(`Error: ${response.status} - ${response.statusText}`);\n        }\n      }\n    } catch (error) {\n      console.error('Error updating purchase:', error);\n      alert('Error al actualizar la compra. Verifique su conexión e intente nuevamente.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Eliminar compra\n  const handleDeletePurchase = async (purchaseId: number) => {\n    const purchaseToDelete = purchases.find(p => p.id === purchaseId);\n    const confirmMessage = purchaseToDelete \n      ? `¿Está seguro de que desea eliminar la compra #${purchaseId} del producto \"${purchaseToDelete.nombre_producto}\"?\\n\\nEsta acción no se puede deshacer y afectará el inventario.`\n      : `¿Está seguro de que desea eliminar la compra #${purchaseId}?\\n\\nEsta acción no se puede deshacer.`;\n    \n    if (!confirm(confirmMessage)) {\n      return;\n    }\n\n    try {\n      setLoading(true);\n      console.log('Eliminando compra ID:', purchaseId); // Debug\n      \n      const response = await fetch(`${API_BASE_URL}/entradas_inventario/${purchaseId}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (response.ok) {\n        // Actualizar la lista local inmediatamente para mejor UX\n        setPurchases(prev => prev.filter(purchase => purchase.id !== purchaseId));\n        \n        // Luego refrescar desde el servidor para asegurar consistencia\n        await fetchPurchases();\n        \n        alert('Compra eliminada exitosamente');\n      } else {\n        const errorText = await response.text();\n        console.error('Delete error response:', errorText);\n        \n        try {\n          const errorData = JSON.parse(errorText);\n          const errorMessage = errorData.detail || errorData.error || errorData.message || 'No se pudo eliminar la compra';\n          alert(`Error: ${errorMessage}`);\n        } catch {\n          alert(`Error: ${response.status} - ${response.statusText}`);\n        }\n      }\n    } catch (error) {\n      console.error('Error deleting purchase:', error);\n      alert('Error de conexión al eliminar la compra. Verifique su conexión e intente nuevamente.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Ver detalle de compra\n  const handleViewPurchase = async (purchase: Purchase) => {\n    setSelectedPurchase(purchase);\n    setModalMode('view');\n    onOpen();\n  };\n\n  // Editar compra\n  const handleEditPurchase = async (purchase: Purchase) => {\n    setSelectedPurchase(purchase);\n    setFormData({\n      producto_id: purchase.producto_id?.toString() || '',\n      cantidad: purchase.cantidad.toString(),\n      precio_compra: purchase.precio_compra.toString()\n    });\n    setModalMode('edit');\n    onOpen();\n  };\n\n  // Abrir modal para nueva compra\n  const handleNewPurchase = () => {\n    setSelectedPurchase(null);\n    setModalMode('create');\n    resetForm();\n    onOpen();\n  };\n\n  // Cerrar modal y limpiar estado\n  const handleCloseModal = () => {\n    setSelectedPurchase(null);\n    resetForm();\n    onClose();\n  };\n\n  // Manejar acciones de fila - CORREGIDO\n  const handleRowAction = (action: string | number, purchase: Purchase) => {\n    const actionKey = String(action); // Convertir a string por si acaso\n    console.log('Acción recibida:', actionKey, 'Purchase:', purchase); // Debug\n    \n    switch (actionKey) {\n      case 'view':\n        handleViewPurchase(purchase);\n        break;\n      case 'edit':\n        handleEditPurchase(purchase);\n        break;\n      case 'delete':\n        handleDeletePurchase(purchase.id);\n        break;\n      default:\n        console.warn('Acción no reconocida:', actionKey);\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      producto_id: '',\n      cantidad: '',\n      precio_compra: ''\n    });\n  };\n\n  const handleInputChange = (field: keyof PurchaseForm, value: string) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  // Función para manejar el cambio del Select\n  const handleProductSelect = (value: string) => {\n    console.log('Selected product ID:', value); // Debug\n    handleInputChange('producto_id', value);\n  };\n\n  const formatCurrency = (amount: number) => {\n    return new Intl.NumberFormat('es-CO', {\n      style: 'currency',\n      currency: 'COP'\n    }).format(amount);\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('es-CO', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  // Calcular totales\n  const totalPurchases = purchases.length;\n  const totalAmount = purchases.reduce((sum, purchase) => \n    sum + (purchase.cantidad * purchase.precio_compra), 0\n  );\n  const totalQuantity = purchases.reduce((sum, purchase) => \n    sum + purchase.cantidad, 0\n  );\n\n  // Configuración de columnas para la tabla\n  const columns = [\n    {\n      key: 'id',\n      label: '# Compra',\n      renderCell: (purchase: Purchase) => (\n        <span className=\"font-medium\">#{purchase.id}</span>\n      )\n    },\n    {\n      key: 'producto',\n      label: 'Producto',\n      renderCell: (purchase: Purchase) => (\n        <div>\n          <p className=\"font-medium\">{purchase.nombre_producto}</p>\n          <p className=\"text-xs text-foreground-500\">\n            {formatDate(purchase.fecha_entrada)}\n          </p>\n        </div>\n      )\n    },\n    {\n      key: 'cantidad',\n      label: 'Cantidad',\n      renderCell: (purchase: Purchase) => (\n        <Chip color=\"primary\" variant=\"flat\" size=\"sm\">\n          {purchase.cantidad} unidades\n        </Chip>\n      )\n    },\n    {\n      key: 'precio_compra',\n      label: 'Precio Unitario',\n      renderCell: (purchase: Purchase) => (\n        <span className=\"font-medium\">\n          {formatCurrency(purchase.precio_compra)}\n        </span>\n      )\n    },\n    {\n      key: 'total',\n      label: 'Total',\n      renderCell: (purchase: Purchase) => (\n        <span className=\"font-semibold text-success\">\n          {formatCurrency(purchase.cantidad * purchase.precio_compra)}\n        </span>\n      )\n    },\n    {\n      key: 'fecha',\n      label: 'Fecha',\n      renderCell: (purchase: Purchase) => (\n        <span>{formatDate(purchase.fecha_entrada)}</span>\n      )\n    },\n    {\n      key: 'actions',\n      label: 'Acciones',\n      renderCell: (purchase: Purchase) => (\n        <Dropdown>\n          <DropdownTrigger>\n            <Button\n              isIconOnly\n              size=\"sm\"\n              variant=\"light\"\n            >\n              <Icon icon=\"lucide:more-vertical\" />\n            </Button>\n          </DropdownTrigger>\n          <DropdownMenu \n            aria-label=\"Acciones de compra\"\n            onAction={(key) => handleRowAction(key, purchase)}\n          >\n            <DropdownItem \n              key=\"view\" \n              startContent={<Icon icon=\"lucide:eye\" className=\"text-foreground-500\" />}\n            >\n              Ver detalles\n            </DropdownItem>\n            <DropdownItem \n              key=\"edit\" \n              startContent={<Icon icon=\"lucide:edit\" className=\"text-foreground-500\" />}\n            >\n              Editar\n            </DropdownItem>\n            <DropdownItem \n              key=\"delete\" \n              className=\"text-danger\" \n              color=\"danger\"\n              startContent={<Icon icon=\"lucide:trash-2\" />}\n            >\n              Eliminar\n            </DropdownItem>\n          </DropdownMenu>\n        </Dropdown>\n      )\n    }\n  ];\n\n  // Tarjetas de estadísticas\n  const statsCards = [\n    {\n      title: 'Total Compras',\n      value: totalPurchases.toString(),\n      icon: 'lucide:shopping-cart',\n      color: 'text-primary'\n    },\n    {\n      title: 'Monto Total',\n      value: formatCurrency(totalAmount),\n      icon: 'lucide:dollar-sign',\n      color: 'text-success'\n    },\n    {\n      title: 'Unidades Compradas',\n      value: totalQuantity.toString(),\n      icon: 'lucide:package',\n      color: 'text-warning'\n    }\n  ];\n\n  // Función para obtener el título del modal\n  const getModalTitle = () => {\n    switch (modalMode) {\n      case 'create':\n        return 'Nueva Compra';\n      case 'view':\n        return `Detalle de Compra #${selectedPurchase?.id}`;\n      case 'edit':\n        return `Editar Compra #${selectedPurchase?.id}`;\n      default:\n        return 'Compra';\n    }\n  };\n\n  // Función para obtener el icono del modal\n  const getModalIcon = () => {\n    switch (modalMode) {\n      case 'create':\n        return 'lucide:plus';\n      case 'view':\n        return 'lucide:eye';\n      case 'edit':\n        return 'lucide:edit';\n      default:\n        return 'lucide:shopping-cart';\n    }\n  };\n\n  // Obtener el producto seleccionado para mostrar su información\n  const selectedProduct = products.find(p => p.id.toString() === formData.producto_id);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-bold\">Compras</h1>\n          <p className=\"text-foreground-600\">Gestión de compras y entradas de inventario</p>\n        </div>\n        <Button \n          color=\"primary\" \n          onPress={handleNewPurchase}\n          startContent={<Icon icon=\"lucide:plus\" />}\n        >\n          Nueva Compra\n        </Button>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {statsCards.map((stat, index) => (\n          <Card key={index}>\n            <CardBody className=\"flex flex-row items-center gap-4\">\n              <div className={`p-3 rounded-lg bg-default-100 ${stat.color}`}>\n                <Icon icon={stat.icon} className=\"w-6 h-6\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-foreground-600\">{stat.title}</p>\n                <p className=\"text-xl font-semibold\">{stat.value}</p>\n              </div>\n            </CardBody>\n          </Card>\n        ))}\n      </div>\n      \n      <Tabs \n        aria-label=\"Opciones de compras\" \n        selectedKey={selectedTab}\n        onSelectionChange={setSelectedTab as any}\n      >\n        <Tab key=\"list\" title=\"Lista de Compras\" />\n        <Tab key=\"reports\" title=\"Reportes\" />\n      </Tabs>\n      \n      {selectedTab === 'list' && (\n        <DataTable \n          data={purchases}\n          columns={columns}\n          loading={loading}\n          searchable\n          searchPlaceholder=\"Buscar compras...\"\n        />\n      )}\n\n      {selectedTab === 'reports' && (\n        <Card>\n          <CardBody>\n            <div className=\"text-center py-8\">\n              <Icon icon=\"lucide:bar-chart-3\" className=\"w-12 h-12 mx-auto mb-4 text-foreground-400\" />\n              <h3 className=\"text-lg font-semibold mb-2\">Reportes de Compras</h3>\n              <p className=\"text-foreground-600\">\n                Esta sección estará disponible próximamente para generar reportes detallados de compras.\n              </p>\n            </div>\n          </CardBody>\n        </Card>\n      )}\n      \n      {/* Modal para crear, ver o editar compra */}\n      <Modal isOpen={isOpen} onClose={handleCloseModal} size=\"lg\" scrollBehavior=\"inside\">\n        <ModalContent>\n          {(onClose) => (\n            <>\n              <ModalHeader className=\"flex flex-col gap-1\">\n                <div className=\"flex items-center gap-2\">\n                  <Icon icon={getModalIcon()} className=\"text-primary\" />\n                  {getModalTitle()}\n                </div>\n              </ModalHeader>\n              <ModalBody>\n                {modalMode === 'view' && selectedPurchase ? (\n                  // Vista de detalle (solo lectura)\n                  <div className=\"space-y-4\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <p className=\"text-sm text-foreground-500\">Producto</p>\n                        <p className=\"font-medium\">{selectedPurchase.nombre_producto}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-sm text-foreground-500\">Cantidad</p>\n                        <p className=\"font-medium\">{selectedPurchase.cantidad} unidades</p>\n                      </div>\n                      <div>\n                        <p className=\"text-sm text-foreground-500\">Precio Unitario</p>\n                        <p className=\"font-medium\">{formatCurrency(selectedPurchase.precio_compra)}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-sm text-foreground-500\">Total</p>\n                        <p className=\"font-medium text-success\">\n                          {formatCurrency(selectedPurchase.cantidad * selectedPurchase.precio_compra)}\n                        </p>\n                      </div>\n                      <div className=\"col-span-2\">\n                        <p className=\"text-sm text-foreground-500\">Fecha de Entrada</p>\n                        <p className=\"font-medium\">{formatDate(selectedPurchase.fecha_entrada)}</p>\n                      </div>\n                    </div>\n                  </div>\n                ) : (\n                  // Formulario para crear o editar\n                  <div className=\"space-y-4\">\n                    {/* Select de productos con scroll visible - CORREGIDO */}\n                    <div className=\"space-y-2\">\n                      <Select\n                        label=\"Producto\"\n                        placeholder=\"Seleccione un producto\"\n                        value={formData.producto_id}\n                        selectedKeys={formData.producto_id ? [formData.producto_id] : []}\n                        onSelectionChange={(keys) => {\n                          const selectedKey = Array.from(keys)[0] as string;\n                          handleProductSelect(selectedKey || '');\n                        }}\n                        isRequired\n                        className=\"max-w-full\"\n                        listboxProps={{\n                          itemClasses: {\n                            base: [\n                              \"rounded-md\",\n                              \"text-default-500\",\n                              \"transition-opacity\",\n                              \"data-[hover=true]:text-foreground\",\n                              \"data-[hover=true]:bg-default-100\",\n                              \"dark:data-[hover=true]:bg-default-50\",\n                              \"data-[selectable=true]:focus:bg-default-50\",\n                              \"data-[pressed=true]:opacity-70\",\n                              \"data-[focus-visible=true]:ring-default-500\",\n                            ],\n                          },\n                        }}\n                        popoverProps={{\n                          classNames: {\n                            base: \"before:bg-default-200\",\n                            content: \"p-0 border-small border-divider bg-background max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 hover:scrollbar-thumb-gray-500\",\n                          },\n                        }}\n                        renderValue={(items) => {\n                          return items.map((item) => {\n                            const product = products.find(p => p.id.toString() === item.key);\n                            return product ? (\n                              <div key={item.key} className=\"flex items-center gap-2\">\n                                <div className=\"flex flex-col\">\n                                  <span className=\"font-medium\">{product.nombre}</span>\n                                  <span className=\"text-xs text-foreground-500\">\n                                    {product.sku ? `SKU: ${product.sku}` : `ID: ${product.id}`}\n                                  </span>\n                                </div>\n                              </div>\n                            ) : null;\n                          });\n                        }}\n                      >\n                        {products.map((product) => (\n                          <SelectItem \n                            key={product.id.toString()} \n                            value={product.id.toString()}\n                            textValue={`${product.nombre} - ${product.sku || `ID: ${product.id}`}`}\n                            className={formData.producto_id === product.id.toString() ? \n                              \"bg-primary-50 border-l-4 border-primary data-[hover=true]:bg-primary-100\" : \"\"}\n                          >\n                            <div className=\"flex flex-col py-2\">\n                              <span className=\"font-medium text-foreground\">{product.nombre}</span>\n                              <div className=\"flex justify-between items-center mt-1\">\n                                <span className=\"text-xs text-foreground-500\">\n                                  {product.sku ? `SKU: ${product.sku}` : `ID: ${product.id}`}\n                                </span>\n                                <div className=\"flex gap-2 text-xs\">\n                                  <span className=\"text-primary\">Stock: {product.cantidad}</span>\n                                  <span className=\"text-success\">Precio: {formatCurrency(product.precio)}</span>\n                                </div>\n                              </div>\n                            </div>\n                          </SelectItem>\n                        ))}\n                      </Select>\n                      \n                      {/* Información adicional del producto seleccionado */}\n                      {selectedProduct && (\n                        <Card className=\"bg-primary-50 border border-primary-200\">\n                          <CardBody className=\"py-3\">\n                            <div className=\"flex justify-between items-center text-sm\">\n                              <div className=\"flex items-center gap-2\">\n                                <Icon icon=\"lucide:check-circle\" className=\"text-primary w-4 h-4\" />\n                                <span className=\"font-medium text-primary\">Producto seleccionado:</span>\n                                <span className=\"font-semibold\">{selectedProduct.nombre}</span>\n                              </div>\n                            </div>\n                            <div className=\"flex justify-between items-center text-sm mt-2\">\n                              <div>\n                                <span className=\"font-medium\">Stock actual: </span>\n                                <Chip size=\"sm\" color=\"primary\" variant=\"flat\">\n                                  {selectedProduct.cantidad} unidades\n                                </Chip>\n                              </div>\n                              <div>\n                                <span className=\"font-medium\">Precio sugerido: </span>\n                                <Chip size=\"sm\" color=\"success\" variant=\"flat\">\n                                  {formatCurrency(selectedProduct.precio)}\n                                </Chip>\n                              </div>\n                            </div>\n                          </CardBody>\n                        </Card>\n                      )}\n                    </div>\n                    \n                    <Input\n                      type=\"number\"\n                      label=\"Cantidad\"\n                      placeholder=\"Ingrese la cantidad comprada\"\n                      value={formData.cantidad}\n                      onValueChange={(value) => handleInputChange('cantidad', value)}\n                      min=\"1\"\n                      isRequired\n                      startContent={<Icon icon=\"lucide:package\" className=\"text-foreground-400\" />}\n                    />\n                    \n                    <Input\n                      type=\"number\"\n                      label=\"Precio de Compra\"\n                      placeholder=\"Ingrese el precio unitario\"\n                      value={formData.precio_compra}\n                      onValueChange={(value) => handleInputChange('precio_compra', value)}\n                      min=\"0\"\n                      step=\"0.01\"\n                      isRequired\n                      startContent={<span className=\"text-foreground-400\">$</span>}\n                    />\n\n                    {/* Resumen del total */}\n                    {formData.cantidad && formData.precio_compra && (\n                      <Card className=\"bg-success-50 border border-success-200\">\n                        <CardBody className=\"py-3\">\n                          <div className=\"flex justify-between items-center\">\n                            <span className=\"text-sm font-medium\">Total de la compra:</span>\n                            <span className=\"text-lg font-bold text-success\">\n                              {formatCurrency(\n                                parseInt(formData.cantidad || '0') * parseFloat(formData.precio_compra || '0')\n                              )}\n                            </span>\n                          </div>\n                        </CardBody>\n                      </Card>\n                    )}\n                  </div>\n                )}\n              </ModalBody>\n              <ModalFooter>\n                <Button variant=\"flat\" onPress={handleCloseModal}>\n                  {modalMode === 'view' ? 'Cerrar' : 'Cancelar'}\n                </Button>\n                {modalMode === 'create' && (\n                  <Button \n                    color=\"primary\" \n                    onPress={handleCreatePurchase}\n                    isLoading={loading}\n                    startContent={!loading && <Icon icon=\"lucide:check\" />}\n                  >\n                    Registrar Compra\n                  </Button>\n                )}\n                {modalMode === 'edit' && (\n                  <Button \n                    color=\"primary\" \n                    onPress={handleUpdatePurchase}\n                    isLoading={loading}\n                    startContent={!loading && <Icon icon=\"lucide:check\" />}\n                  >\n                    Actualizar Compra\n                  </Button>\n                )}\n              </ModalFooter>\n            </>\n          )}\n        </ModalContent>\n      </Modal>\n\n      {/* Estilos CSS para el scroll visible */}\n      <style jsx>{`\n        .scrollbar-thin {\n          scrollbar-width: thin;\n        }\n        .scrollbar-thumb-gray-400::-webkit-scrollbar-thumb {\n          background-color: #9ca3af;\n          border-radius: 6px;\n        }\n        .scrollbar-track-gray-100::-webkit-scrollbar-track {\n          background-color: #f3f4f6;\n        }\n        .hover\\\\:scrollbar-thumb-gray-500:hover::-webkit-scrollbar-thumb {\n          background-color: #6b7280;\n        }\n        ::-webkit-scrollbar {\n          width: 8px;\n        }\n        ::-webkit-scrollbar-track {\n          background: #f1f1f1;\n          border-radius: 6px;\n        }\n        ::-webkit-scrollbar-thumb {\n          background: #c1c1c1;\n          border-radius: 6px;\n        }\n        ::-webkit-scrollbar-thumb:hover {\n          background: #a8a8a8;\n        }\n      `}</style>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}