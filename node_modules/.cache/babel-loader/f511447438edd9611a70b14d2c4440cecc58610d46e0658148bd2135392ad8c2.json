{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\hero_invent_pro\\\\hero_invent_pro\\\\src\\\\pages\\\\products.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Chip, useDisclosure } from '@heroui/react';\nimport { Icon } from '@iconify/react';\nimport { PageHeader } from '../components/page-header';\nimport { DataTable } from '../components/data-table';\nimport { ProductForm } from '../components/forms/product-form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:8000';\nexport const Products = () => {\n  _s();\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const [productList, setProductList] = React.useState([]);\n  const [categories, setCategories] = React.useState([]);\n  const [suppliers, setSuppliers] = React.useState([]);\n  const [selectedProduct, setSelectedProduct] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n  const [saveLoading, setSaveLoading] = React.useState(false);\n  const [error, setError] = React.useState('');\n\n  // Cargar datos iniciales\n  React.useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n\n        // Cargar categorías y proveedores primero\n        const [categoriesRes, suppliersRes] = await Promise.all([fetch(`${API_BASE_URL}/api/categorias`), fetch(`${API_BASE_URL}/api/proveedores`)]);\n        if (!categoriesRes.ok || !suppliersRes.ok) {\n          throw new Error('Error al cargar categorías o proveedores');\n        }\n        const [categoriesData, suppliersData] = await Promise.all([categoriesRes.json(), suppliersRes.json()]);\n\n        // Normalizar y guardar categorías y proveedores\n        const normalizedCategories = Array.isArray(categoriesData) ? categoriesData.map(cat => ({\n          ...cat,\n          id: cat.id,\n          nombre: cat.nombre || cat.name || `Categoría ${cat.id}`\n        })) : [];\n        const normalizedSuppliers = Array.isArray(suppliersData) ? suppliersData.map(sup => ({\n          ...sup,\n          id: sup.id,\n          nombre: sup.nombre || sup.name || `Proveedor ${sup.id}`\n        })) : [];\n        setCategories(normalizedCategories);\n        setSuppliers(normalizedSuppliers);\n\n        // Cargar productos después de tener categorías/proveedores\n        const productsRes = await fetch(`${API_BASE_URL}/api/productos`);\n        if (!productsRes.ok) throw new Error('Error al cargar productos');\n        const productsData = await productsRes.json();\n        setProductList(Array.isArray(productsData) ? productsData : []);\n        setError('');\n      } catch (error) {\n        setError(error.message);\n        console.error(\"Error loading data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Mapear datos del servidor al cliente\n  const mapServerToClient = serverProduct => ({\n    id: serverProduct.id,\n    name: serverProduct.nombre || '',\n    description: serverProduct.descripcion || '',\n    price: parseFloat(serverProduct.precio) || 0,\n    stock: parseInt(serverProduct.cantidad) || 0,\n    categoryId: serverProduct.categoria_id,\n    supplierId: serverProduct.proveedor_id,\n    barcode: serverProduct.codigo_barras || '',\n    sku: serverProduct.sku || '',\n    cost: parseFloat(serverProduct.costo) || 0,\n    minStock: parseInt(serverProduct.stock_minimo) || 5,\n    currentStock: parseInt(serverProduct.stock_actual) || parseInt(serverProduct.cantidad) || 0,\n    isActive: serverProduct.activo !== undefined ? serverProduct.activo : true\n  });\n\n  // Mapear datos del cliente al formato del servidor\n  const mapClientToServer = clientProduct => ({\n    nombre: clientProduct.name,\n    descripcion: clientProduct.description || '',\n    precio: parseFloat(clientProduct.price) || 0,\n    cantidad: parseInt(clientProduct.stock) || 0,\n    categoria_id: clientProduct.categoryId || null,\n    proveedor_id: clientProduct.supplierId || null,\n    codigo_barras: clientProduct.barcode || '',\n    sku: clientProduct.sku || '',\n    costo: parseFloat(clientProduct.cost) || 0,\n    stock_minimo: parseInt(clientProduct.minStock) || 5,\n    stock_actual: parseInt(clientProduct.currentStock) || parseInt(clientProduct.stock) || 0,\n    activo: clientProduct.isActive !== undefined ? clientProduct.isActive : true\n  });\n  const handleRowAction = async (action, product) => {\n    try {\n      if (action === 'edit' || action === 'view') {\n        setSelectedProduct(product);\n        onOpen();\n      } else if (action === 'delete') {\n        if (confirm('¿Está seguro de eliminar este producto?')) {\n          const response = await fetch(`${API_BASE_URL}/api/productos/${product.id}`, {\n            method: 'DELETE'\n          });\n          if (!response.ok) throw new Error('Error al eliminar producto');\n          setProductList(prev => prev.filter(p => p.id !== product.id));\n          setError('');\n        }\n      }\n    } catch (error) {\n      setError(error.message);\n      console.error(`Error in ${action} action:`, error);\n    }\n  };\n  const handleAddProduct = () => {\n    setSelectedProduct(null);\n    onOpen();\n  };\n  const handleSaveProduct = async productData => {\n    try {\n      setSaveLoading(true);\n      setError('');\n      const url = selectedProduct ? `${API_BASE_URL}/api/productos/${selectedProduct.id}` : `${API_BASE_URL}/api/productos`;\n      const method = selectedProduct ? 'PUT' : 'POST';\n      const dataToSend = mapClientToServer(productData);\n      console.log('Sending product data:', dataToSend); // Debug log\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(dataToSend)\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`Error al guardar producto: ${errorText}`);\n      }\n\n      // Recargar lista después de guardar\n      const updatedResponse = await fetch(`${API_BASE_URL}/api/productos`);\n      if (updatedResponse.ok) {\n        const updatedProducts = await updatedResponse.json();\n        setProductList(Array.isArray(updatedProducts) ? updatedProducts : []);\n      }\n      onClose();\n      setSelectedProduct(null);\n    } catch (error) {\n      setError(error.message);\n      console.error(\"Error saving product:\", error);\n    } finally {\n      setSaveLoading(false);\n    }\n  };\n  const handleCloseModal = () => {\n    setSelectedProduct(null);\n    setError('');\n    onClose();\n  };\n\n  // Función para obtener datos del producto para el formulario\n  const getProductForForm = product => {\n    if (!product) return null;\n    return mapServerToClient(product);\n  };\n\n  // Función para obtener nombre de categoría por ID\n  const getCategoryName = categoryId => {\n    if (categoryId === null || categoryId === undefined) return '-';\n    const category = categories.find(c => c.id == categoryId); // Use == for loose comparison\n    return category ? category.nombre : 'Categoría no encontrada';\n  };\n\n  // Función para obtener nombre de proveedor por ID\n  const getSupplierName = supplierId => {\n    if (supplierId === null || supplierId === undefined) return '-';\n    const supplier = suppliers.find(s => s.id == supplierId); // Use == for loose comparison\n    return supplier ? supplier.nombre : 'Proveedor no encontrado';\n  };\n  const columns = [{\n    key: 'nombre',\n    label: 'Nombre',\n    sortable: true,\n    renderCell: product => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-10 h-10 rounded-md overflow-hidden bg-gray-100\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: product.imagen_url || `https://ui-avatars.com/api/?name=${encodeURIComponent(product.nombre || '')}&background=0EA5E9&color=fff`,\n          alt: product.nombre || 'Producto',\n          className: \"w-full h-full object-cover\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium\",\n          children: product.nombre || 'Sin nombre'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-foreground-500\",\n          children: product.codigo_barras ? `Código: ${product.codigo_barras}` : product.sku ? `SKU: ${product.sku}` : 'Sin código'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'categoria',\n    label: 'Categoría',\n    renderCell: product => /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-sm\",\n      children: getCategoryName(product.categoria_id)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'precio',\n    label: 'Precio',\n    renderCell: product => /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"font-medium\",\n      children: [\"$\", parseFloat(product.precio || 0).toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'cantidad',\n    label: 'Stock',\n    renderCell: product => {\n      const stock = parseInt(product.cantidad || 0);\n      const minStock = parseInt(product.stock_minimo) || 5;\n      const isLowStock = stock <= minStock;\n      return /*#__PURE__*/_jsxDEV(Chip, {\n        color: isLowStock ? \"danger\" : \"success\",\n        variant: \"flat\",\n        size: \"sm\",\n        children: [stock, \" unidades\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this);\n    }\n  }, {\n    key: 'proveedor',\n    label: 'Proveedor',\n    renderCell: product => /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-sm\",\n      children: getSupplierName(product.proveedor_id)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'estado',\n    label: 'Estado',\n    renderCell: product => /*#__PURE__*/_jsxDEV(Chip, {\n      color: product.activo !== false ? \"success\" : \"default\",\n      variant: \"flat\",\n      size: \"sm\",\n      children: product.activo !== false ? \"Activo\" : \"Inactivo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 9\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 mb-4 text-red-700 bg-red-100 rounded-lg border border-red-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          icon: \"mdi:alert-circle\",\n          className: \"w-5 h-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium\",\n          children: \"Error:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(PageHeader, {\n      title: \"Productos\",\n      description: \"Gesti\\xF3n de productos del inventario\",\n      actionLabel: \"Nuevo Producto\",\n      onAction: handleAddProduct\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n      data: productList,\n      columns: columns,\n      onRowAction: handleRowAction,\n      searchable: true,\n      searchPlaceholder: \"Buscar productos por nombre, c\\xF3digo o categor\\xEDa...\",\n      isLoading: loading,\n      emptyMessage: \"No hay productos registrados\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductForm, {\n      isOpen: isOpen,\n      onClose: handleCloseModal,\n      onSave: handleSaveProduct,\n      product: getProductForForm(selectedProduct),\n      categories: categories,\n      suppliers: suppliers,\n      isLoading: saveLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this), process.env.NODE_ENV === 'development' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 p-4 bg-gray-100 rounded-lg text-xs\",\n      children: /*#__PURE__*/_jsxDEV(\"details\", {\n        children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n          className: \"cursor-pointer font-medium\",\n          children: \"Debug Info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"Categor\\xEDas (\", categories.length, \"):\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n              className: \"bg-white p-2 rounded mt-1 overflow-auto max-h-32\",\n              children: JSON.stringify(categories, null, 2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"Proveedores (\", suppliers.length, \"):\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n              className: \"bg-white p-2 rounded mt-1 overflow-auto max-h-32\",\n              children: JSON.stringify(suppliers, null, 2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"Productos (\", productList.length, \"):\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n              className: \"bg-white p-2 rounded mt-1 overflow-auto max-h-32\",\n              children: JSON.stringify(productList, null, 2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 291,\n    columnNumber: 5\n  }, this);\n};\n_s(Products, \"O+ufeWmoLW8bR6dvMFTpfSlFqH4=\", false, function () {\n  return [useDisclosure];\n});\n_c = Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["React","Chip","useDisclosure","Icon","PageHeader","DataTable","ProductForm","jsxDEV","_jsxDEV","API_BASE_URL","import","meta","env","VITE_API_BASE_URL","Products","_s","isOpen","onOpen","onClose","productList","setProductList","useState","categories","setCategories","suppliers","setSuppliers","selectedProduct","setSelectedProduct","loading","setLoading","saveLoading","setSaveLoading","error","setError","useEffect","fetchData","categoriesRes","suppliersRes","Promise","all","fetch","ok","Error","categoriesData","suppliersData","json","normalizedCategories","Array","isArray","map","cat","id","nombre","name","normalizedSuppliers","sup","productsRes","productsData","message","console","mapServerToClient","serverProduct","description","descripcion","price","parseFloat","precio","stock","parseInt","cantidad","categoryId","categoria_id","supplierId","proveedor_id","barcode","codigo_barras","sku","cost","costo","minStock","stock_minimo","currentStock","stock_actual","isActive","activo","undefined","mapClientToServer","clientProduct","handleRowAction","action","product","confirm","response","method","prev","filter","p","handleAddProduct","handleSaveProduct","productData","url","dataToSend","log","headers","body","JSON","stringify","errorText","text","updatedResponse","updatedProducts","handleCloseModal","getProductForForm","getCategoryName","category","find","c","getSupplierName","supplier","s","columns","key","label","sortable","renderCell","className","children","src","imagen_url","encodeURIComponent","alt","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","isLowStock","color","variant","size","icon","title","actionLabel","onAction","data","onRowAction","searchable","searchPlaceholder","isLoading","emptyMessage","onSave","process","NODE_ENV","length","_c","$RefreshReg$"],"sources":["C:/Users/User/hero_invent_pro/hero_invent_pro/src/pages/products.tsx"],"sourcesContent":["import React from 'react';\nimport { Chip, useDisclosure } from '@heroui/react';\nimport { Icon } from '@iconify/react';\nimport { PageHeader } from '../components/page-header';\nimport { DataTable } from '../components/data-table';\nimport { ProductForm } from '../components/forms/product-form';\n\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:8000';\n\nexport const Products: React.FC = () => {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const [productList, setProductList] = React.useState<any[]>([]);\n  const [categories, setCategories] = React.useState<any[]>([]);\n  const [suppliers, setSuppliers] = React.useState<any[]>([]);\n  const [selectedProduct, setSelectedProduct] = React.useState<any>(null);\n  const [loading, setLoading] = React.useState(true);\n  const [saveLoading, setSaveLoading] = React.useState(false);\n  const [error, setError] = React.useState('');\n\n  // Cargar datos iniciales\n  React.useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        \n        // Cargar categorías y proveedores primero\n        const [categoriesRes, suppliersRes] = await Promise.all([\n          fetch(`${API_BASE_URL}/api/categorias`),\n          fetch(`${API_BASE_URL}/api/proveedores`)\n        ]);\n        \n        if (!categoriesRes.ok || !suppliersRes.ok) {\n          throw new Error('Error al cargar categorías o proveedores');\n        }\n        \n        const [categoriesData, suppliersData] = await Promise.all([\n          categoriesRes.json(),\n          suppliersRes.json()\n        ]);\n        \n        // Normalizar y guardar categorías y proveedores\n        const normalizedCategories = Array.isArray(categoriesData) ? categoriesData.map(cat => ({\n          ...cat,\n          id: cat.id,\n          nombre: cat.nombre || cat.name || `Categoría ${cat.id}`\n        })) : [];\n        \n        const normalizedSuppliers = Array.isArray(suppliersData) ? suppliersData.map(sup => ({\n          ...sup,\n          id: sup.id,\n          nombre: sup.nombre || sup.name || `Proveedor ${sup.id}`\n        })) : [];\n        \n        setCategories(normalizedCategories);\n        setSuppliers(normalizedSuppliers);\n        \n        // Cargar productos después de tener categorías/proveedores\n        const productsRes = await fetch(`${API_BASE_URL}/api/productos`);\n        if (!productsRes.ok) throw new Error('Error al cargar productos');\n        \n        const productsData = await productsRes.json();\n        setProductList(Array.isArray(productsData) ? productsData : []);\n        \n        setError('');\n      } catch (error: any) {\n        setError(error.message);\n        console.error(\"Error loading data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchData();\n  }, []);\n\n  // Mapear datos del servidor al cliente\n  const mapServerToClient = (serverProduct: any) => ({\n    id: serverProduct.id,\n    name: serverProduct.nombre || '',\n    description: serverProduct.descripcion || '',\n    price: parseFloat(serverProduct.precio) || 0,\n    stock: parseInt(serverProduct.cantidad) || 0,\n    categoryId: serverProduct.categoria_id,\n    supplierId: serverProduct.proveedor_id,\n    barcode: serverProduct.codigo_barras || '',\n    sku: serverProduct.sku || '',\n    cost: parseFloat(serverProduct.costo) || 0,\n    minStock: parseInt(serverProduct.stock_minimo) || 5,\n    currentStock: parseInt(serverProduct.stock_actual) || parseInt(serverProduct.cantidad) || 0,\n    isActive: serverProduct.activo !== undefined ? serverProduct.activo : true\n  });\n\n  // Mapear datos del cliente al formato del servidor\n  const mapClientToServer = (clientProduct: any) => ({\n    nombre: clientProduct.name,\n    descripcion: clientProduct.description || '',\n    precio: parseFloat(clientProduct.price) || 0,\n    cantidad: parseInt(clientProduct.stock) || 0,\n    categoria_id: clientProduct.categoryId || null,\n    proveedor_id: clientProduct.supplierId || null,\n    codigo_barras: clientProduct.barcode || '',\n    sku: clientProduct.sku || '',\n    costo: parseFloat(clientProduct.cost) || 0,\n    stock_minimo: parseInt(clientProduct.minStock) || 5,\n    stock_actual: parseInt(clientProduct.currentStock) || parseInt(clientProduct.stock) || 0,\n    activo: clientProduct.isActive !== undefined ? clientProduct.isActive : true\n  });\n\n  const handleRowAction = async (action: string, product: any) => {\n    try {\n      if (action === 'edit' || action === 'view') {\n        setSelectedProduct(product);\n        onOpen();\n      } else if (action === 'delete') {\n        if (confirm('¿Está seguro de eliminar este producto?')) {\n          const response = await fetch(`${API_BASE_URL}/api/productos/${product.id}`, {\n            method: 'DELETE'\n          });\n          \n          if (!response.ok) throw new Error('Error al eliminar producto');\n          \n          setProductList(prev => prev.filter(p => p.id !== product.id));\n          setError('');\n        }\n      }\n    } catch (error: any) {\n      setError(error.message);\n      console.error(`Error in ${action} action:`, error);\n    }\n  };\n\n  const handleAddProduct = () => {\n    setSelectedProduct(null);\n    onOpen();\n  };\n\n  const handleSaveProduct = async (productData: any) => {\n    try {\n      setSaveLoading(true);\n      setError('');\n\n      const url = selectedProduct \n        ? `${API_BASE_URL}/api/productos/${selectedProduct.id}` \n        : `${API_BASE_URL}/api/productos`;\n      \n      const method = selectedProduct ? 'PUT' : 'POST';\n      const dataToSend = mapClientToServer(productData);\n\n      console.log('Sending product data:', dataToSend); // Debug log\n\n      const response = await fetch(url, {\n        method,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(dataToSend),\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`Error al guardar producto: ${errorText}`);\n      }\n\n      // Recargar lista después de guardar\n      const updatedResponse = await fetch(`${API_BASE_URL}/api/productos`);\n      if (updatedResponse.ok) {\n        const updatedProducts = await updatedResponse.json();\n        setProductList(Array.isArray(updatedProducts) ? updatedProducts : []);\n      }\n      \n      onClose();\n      setSelectedProduct(null);\n    } catch (error: any) {\n      setError(error.message);\n      console.error(\"Error saving product:\", error);\n    } finally {\n      setSaveLoading(false);\n    }\n  };\n\n  const handleCloseModal = () => {\n    setSelectedProduct(null);\n    setError('');\n    onClose();\n  };\n\n  // Función para obtener datos del producto para el formulario\n  const getProductForForm = (product: any) => {\n    if (!product) return null;\n    return mapServerToClient(product);\n  };\n\n  // Función para obtener nombre de categoría por ID\n  const getCategoryName = (categoryId: number | null | undefined) => {\n    if (categoryId === null || categoryId === undefined) return '-';\n    const category = categories.find(c => c.id == categoryId); // Use == for loose comparison\n    return category ? category.nombre : 'Categoría no encontrada';\n  };\n\n  // Función para obtener nombre de proveedor por ID\n  const getSupplierName = (supplierId: number | null | undefined) => {\n    if (supplierId === null || supplierId === undefined) return '-';\n    const supplier = suppliers.find(s => s.id == supplierId); // Use == for loose comparison\n    return supplier ? supplier.nombre : 'Proveedor no encontrado';\n  };\n\n  const columns = [\n    {\n      key: 'nombre',\n      label: 'Nombre',\n      sortable: true,\n      renderCell: (product: any) => (\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 rounded-md overflow-hidden bg-gray-100\">\n            <img \n              src={product.imagen_url || `https://ui-avatars.com/api/?name=${encodeURIComponent(product.nombre || '')}&background=0EA5E9&color=fff`} \n              alt={product.nombre || 'Producto'} \n              className=\"w-full h-full object-cover\" \n            />\n          </div>\n          <div>\n            <p className=\"font-medium\">{product.nombre || 'Sin nombre'}</p>\n            <p className=\"text-xs text-foreground-500\">\n              {product.codigo_barras ? `Código: ${product.codigo_barras}` : \n               product.sku ? `SKU: ${product.sku}` : 'Sin código'}\n            </p>\n          </div>\n        </div>\n      )\n    },\n    {\n      key: 'categoria',\n      label: 'Categoría',\n      renderCell: (product: any) => (\n        <span className=\"text-sm\">\n          {getCategoryName(product.categoria_id)}\n        </span>\n      )\n    },\n    {\n      key: 'precio',\n      label: 'Precio',\n      renderCell: (product: any) => (\n        <span className=\"font-medium\">\n          ${parseFloat(product.precio || 0).toFixed(2)}\n        </span>\n      )\n    },\n    {\n      key: 'cantidad',\n      label: 'Stock',\n      renderCell: (product: any) => {\n        const stock = parseInt(product.cantidad || 0);\n        const minStock = parseInt(product.stock_minimo) || 5;\n        const isLowStock = stock <= minStock;\n        \n        return (\n          <Chip \n            color={isLowStock ? \"danger\" : \"success\"} \n            variant=\"flat\" \n            size=\"sm\"\n          >\n            {stock} unidades\n          </Chip>\n        );\n      }\n    },\n    {\n      key: 'proveedor',\n      label: 'Proveedor',\n      renderCell: (product: any) => (\n        <span className=\"text-sm\">\n          {getSupplierName(product.proveedor_id)}\n        </span>\n      )\n    },\n    {\n      key: 'estado',\n      label: 'Estado',\n      renderCell: (product: any) => (\n        <Chip \n          color={product.activo !== false ? \"success\" : \"default\"} \n          variant=\"flat\" \n          size=\"sm\"\n        >\n          {product.activo !== false ? \"Activo\" : \"Inactivo\"}\n        </Chip>\n      )\n    }\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      {error && (\n        <div className=\"p-4 mb-4 text-red-700 bg-red-100 rounded-lg border border-red-200\">\n          <div className=\"flex items-center\">\n            <Icon icon=\"mdi:alert-circle\" className=\"w-5 h-5 mr-2\" />\n            <span className=\"font-medium\">Error:</span>\n          </div>\n          <p className=\"mt-1\">{error}</p>\n        </div>\n      )}\n\n      <PageHeader \n        title=\"Productos\" \n        description=\"Gestión de productos del inventario\" \n        actionLabel=\"Nuevo Producto\" \n        onAction={handleAddProduct} \n      />\n\n      <DataTable \n        data={productList} \n        columns={columns} \n        onRowAction={handleRowAction}\n        searchable \n        searchPlaceholder=\"Buscar productos por nombre, código o categoría...\" \n        isLoading={loading}\n        emptyMessage=\"No hay productos registrados\"\n      />\n\n      <ProductForm \n        isOpen={isOpen} \n        onClose={handleCloseModal} \n        onSave={handleSaveProduct} \n        product={getProductForForm(selectedProduct)}\n        categories={categories}\n        suppliers={suppliers}\n        isLoading={saveLoading}\n      />\n\n      {process.env.NODE_ENV === 'development' && (\n        <div className=\"mt-8 p-4 bg-gray-100 rounded-lg text-xs\">\n          <details>\n            <summary className=\"cursor-pointer font-medium\">Debug Info</summary>\n            <div className=\"mt-2 space-y-2\">\n              <div>\n                <strong>Categorías ({categories.length}):</strong>\n                <pre className=\"bg-white p-2 rounded mt-1 overflow-auto max-h-32\">\n                  {JSON.stringify(categories, null, 2)}\n                </pre>\n              </div>\n              <div>\n                <strong>Proveedores ({suppliers.length}):</strong>\n                <pre className=\"bg-white p-2 rounded mt-1 overflow-auto max-h-32\">\n                  {JSON.stringify(suppliers, null, 2)}\n                </pre>\n              </div>\n              <div>\n                <strong>Productos ({productList.length}):</strong>\n                <pre className=\"bg-white p-2 rounded mt-1 overflow-auto max-h-32\">\n                  {JSON.stringify(productList, null, 2)}\n                </pre>\n              </div>\n            </div>\n          </details>\n        </div>\n      )}\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}